# PRD - KR1: 意图识别 - 自然语言→OKR/Project/Task

## 需求来源
Brain 自动调度任务 - Planner V2 生成的 KR 推进任务

## 功能描述
实现一个 API 端点，接收自然语言输入，识别用户意图并将其映射到系统中的 OKR/Project/Task。这是 "O1: Cecelia 自驱进化" 的第一个关键结果，使 Cecelia 能够理解用户的自然语言需求并转化为可执行的任务结构。

核心功能：
1. 接收自然语言输入（如 "我想做一个登录功能"）
2. 分析意图类型（创建任务 vs 查询状态 vs 更新进度等）
3. 提取关键信息（目标、项目、任务属性）
4. 返回结构化的意图解析结果
5. 支持上下文理解（基于当前 focus/记忆）

## 涉及文件
- `packages/core/src/api/intent/route.ts` - 新建意图识别 API 端点
- `packages/core/src/lib/intent-parser.ts` - 意图解析核心逻辑
- `packages/core/src/types/intent.ts` - 意图类型定义
- `packages/core/tests/api/intent.test.ts` - API 测试
- `packages/core/tests/lib/intent-parser.test.ts` - 解析器测试

## 成功标准
1. API 端点 `POST /api/intent/parse` 能够接收 JSON 格式的自然语言输入
2. 能够识别至少 3 种意图类型：`create_task`、`query_status`、`update_progress`
3. 对于 "创建任务" 意图，能够提取：标题、优先级、关联项目/目标
4. 返回结构化的 JSON 响应，包含：意图类型、置信度、提取的实体、建议的操作
5. 集成 Brain 状态（current_focus），优先关联当前聚焦的项目/目标
6. 有单元测试覆盖主要意图类型和边界情况
7. API 响应时间 < 500ms（不含 LLM 调用）

## 非目标
- ❌ 不实现复杂的多轮对话
- ❌ 不实现自动执行操作（只解析意图，不直接创建任务）
- ❌ 不处理语音输入（只处理文本）
- ❌ 不实现意图历史记录
- ❌ 不做前端 UI（只做 API）
