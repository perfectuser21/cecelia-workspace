const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EChartsRenderer-DDiuHAp2.js","assets/index-CFNaiXDE.js","assets/index-3UAe3Ji9.css","assets/D3ForceRenderer-ctXGmISF.js","assets/transform-CHVD-xw7.js","assets/string-DhfnsSdB.js","assets/ordinal-DILIJJjt.js","assets/init-Dmth1JHB.js","assets/colors-Cc3OSVma.js"])))=>i.map(i=>d[i]);
import{r as i,j as e,K as o,B as x,aA as m,aB as u,a6 as h,_ as n,L as p}from"./index-CFNaiXDE.js";class g extends i.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("Widget error:",r,a)}render(){var r;return this.state.hasError?this.props.fallback||e.jsx("div",{className:"flex items-center justify-center h-full bg-red-900/20 p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(h,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),e.jsx("div",{className:"text-red-400 text-sm",children:"æ¸²æŸ“é”™è¯¯"}),e.jsx("div",{className:"text-red-300 text-xs mt-1 max-w-xs truncate",children:(r=this.state.error)==null?void 0:r.message})]})}):this.props.children}}const b=i.lazy(()=>n(()=>import("./EChartsRenderer-DDiuHAp2.js"),__vite__mapDeps([0,1,2])).then(t=>({default:t.EChartsRenderer}))),j=i.lazy(()=>n(()=>import("./D3ForceRenderer-ctXGmISF.js"),__vite__mapDeps([3,1,2,4,5,6,7,8])).then(t=>({default:t.D3ForceRenderer}))),v=[{id:"chart-1",type:"chart",title:"æ•°æ®å›¾è¡¨",data:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0}]}},{id:"network-1",type:"network",title:"ç½‘ç»œå…³ç³»å›¾",data:{nodes:[{id:"A",label:"Node A",group:1},{id:"B",label:"Node B",group:1},{id:"C",label:"Node C",group:2},{id:"D",label:"Node D",group:2}],links:[{source:"A",target:"B",value:1},{source:"A",target:"C",value:2},{source:"B",target:"D",value:1},{source:"C",target:"D",value:3}]}}];function N(){return e.jsx("div",{className:"flex items-center justify-center h-full bg-slate-800",children:e.jsx(p,{className:"w-8 h-8 text-slate-400 animate-spin"})})}function f({widget:t}){return t.type==="mermaid"?e.jsx("div",{className:"flex items-center justify-center h-full bg-slate-800/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ“‹"}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Mermaid æµç¨‹å›¾"}),e.jsx("div",{className:"text-slate-500 text-xs mt-1",children:"æš‚ä¸æ”¯æŒ"})]})}):e.jsx(g,{children:e.jsxs(i.Suspense,{fallback:e.jsx(N,{}),children:[t.type==="chart"&&e.jsx(b,{config:t.data}),t.type==="network"&&e.jsx(j,{nodes:t.data.nodes,links:t.data.links})]})})}function k(){const[t,r]=i.useState(v),a=s=>{const l=`${s}-${Date.now()}`;let d;switch(s){case"mermaid":d={id:l,type:s,title:"æ–°æµç¨‹å›¾",data:`flowchart TD
    A[å¼€å§‹] --> B[ç»“æŸ]`};break;case"chart":d={id:l,type:s,title:"æ–°å›¾è¡¨",data:{xAxis:{type:"category",data:["A","B","C","D","E"]},yAxis:{type:"value"},series:[{data:[100,200,150,300,250],type:"bar"}]}};break;case"network":d={id:l,type:s,title:"æ–°ç½‘ç»œå›¾",data:{nodes:[{id:"1",label:"Node 1",group:1},{id:"2",label:"Node 2",group:1},{id:"3",label:"Node 3",group:2}],links:[{source:"1",target:"2",value:1},{source:"2",target:"3",value:2}]}};break}r([...t,d])},c=s=>{r(t.filter(l=>l.id!==s))};return e.jsxs("div",{className:"min-h-screen bg-slate-950",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-800 bg-slate-900 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"Visualization Dashboard"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"å®æ—¶å¯è§†åŒ–ä»ªè¡¨ç›˜"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>a("mermaid"),className:"flex items-center gap-2 px-3 py-2 bg-blue-600/50 text-blue-200 rounded-lg text-sm cursor-not-allowed",disabled:!0,title:"Mermaid æš‚ä¸æ”¯æŒ",children:[e.jsx(o,{size:16})," æµç¨‹å›¾"]}),e.jsxs("button",{onClick:()=>a("chart"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm",children:[e.jsx(x,{size:16})," å›¾è¡¨"]}),e.jsxs("button",{onClick:()=>a("network"),className:"flex items-center gap-2 px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm",children:[e.jsx(m,{size:16})," ç½‘ç»œå›¾"]})]})]}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(s=>e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-700 flex items-center justify-between bg-slate-800",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-200",children:s.title}),e.jsx("button",{onClick:()=>c(s.id),className:"text-slate-400 hover:text-red-400 text-xs",children:"åˆ é™¤"})]}),e.jsx("div",{className:"h-80",children:e.jsx(f,{widget:s})})]},s.id)),t.length===0&&e.jsx("div",{className:"col-span-full flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),e.jsx("div",{className:"text-slate-400 text-lg mb-2",children:"æš‚æ— ç»„ä»¶"}),e.jsx("div",{className:"text-slate-500 text-sm",children:"ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ å¯è§†åŒ–ç»„ä»¶"})]})})]})]})}export{k as VizDashboard,k as default};
