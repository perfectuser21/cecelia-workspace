function x(t){return function(){return t}}const it=Math.abs,nt=Math.atan2,st=Math.cos,et=Math.max,ht=Math.min,ot=Math.sin,_t=Math.sqrt,at=1e-12,k=Math.PI,C=k/2,ct=2*k;function rt(t){return t>1?0:t<-1?k:Math.acos(t)}function lt(t){return t>=1?C:t<=-1?-C:Math.asin(t)}const m=Math.PI,w=2*m,p=1e-6,H=w-p;function q(t){this._+=t[0];for(let i=1,n=t.length;i<n;++i)this._+=arguments[i]+t[i]}function Q(t){let i=Math.floor(t);if(!(i>=0))throw new Error(`invalid digits: ${t}`);if(i>15)return q;const n=10**i;return function(s){this._+=s[0];for(let h=1,e=s.length;h<e;++h)this._+=Math.round(arguments[h]*n)/n+s[h]}}class J{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?q:Q(i)}moveTo(i,n){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,n){this._append`L${this._x1=+i},${this._y1=+n}`}quadraticCurveTo(i,n,s,h){this._append`Q${+i},${+n},${this._x1=+s},${this._y1=+h}`}bezierCurveTo(i,n,s,h,e,o){this._append`C${+i},${+n},${+s},${+h},${this._x1=+e},${this._y1=+o}`}arcTo(i,n,s,h,e){if(i=+i,n=+n,s=+s,h=+h,e=+e,e<0)throw new Error(`negative radius: ${e}`);let o=this._x1,a=this._y1,_=s-i,c=h-n,l=o-i,u=a-n,r=l*l+u*u;if(this._x1===null)this._append`M${this._x1=i},${this._y1=n}`;else if(r>p)if(!(Math.abs(u*_-c*l)>p)||!e)this._append`L${this._x1=i},${this._y1=n}`;else{let f=s-o,T=h-a,N=_*_+c*c,G=f*f+T*T,E=Math.sqrt(N),g=Math.sqrt(r),S=e*Math.tan((m-Math.acos((N+r-G)/(2*E*g)))/2),$=S/g,P=S/E;Math.abs($-1)>p&&this._append`L${i+$*l},${n+$*u}`,this._append`A${e},${e},0,0,${+(u*f>l*T)},${this._x1=i+P*_},${this._y1=n+P*c}`}}arc(i,n,s,h,e,o){if(i=+i,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let a=s*Math.cos(h),_=s*Math.sin(h),c=i+a,l=n+_,u=1^o,r=o?h-e:e-h;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>p||Math.abs(this._y1-l)>p)&&this._append`L${c},${l}`,s&&(r<0&&(r=r%w+w),r>H?this._append`A${s},${s},0,1,${u},${i-a},${n-_}A${s},${s},0,1,${u},${this._x1=c},${this._y1=l}`:r>p&&this._append`A${s},${s},0,${+(r>=m)},${u},${this._x1=i+s*Math.cos(e)},${this._y1=n+s*Math.sin(e)}`)}rect(i,n,s,h){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+n}h${s=+s}v${+h}h${-s}Z`}toString(){return this._}}function K(t){let i=3;return t.digits=function(n){if(!arguments.length)return i;if(n==null)i=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);i=s}return t},()=>new J(i)}function U(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j(t){this._context=t}j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i);break}}};function V(t){return new j(t)}function W(t){return t[0]}function tt(t){return t[1]}function ut(t,i){var n=x(!0),s=null,h=V,e=null,o=K(a);t=typeof t=="function"?t:t===void 0?W:x(t),i=typeof i=="function"?i:i===void 0?tt:x(i);function a(_){var c,l=(_=U(_)).length,u,r=!1,f;for(s==null&&(e=h(f=o())),c=0;c<=l;++c)!(c<l&&n(u=_[c],c,_))===r&&((r=!r)?e.lineStart():e.lineEnd()),r&&e.point(+t(u,c,_),+i(u,c,_));if(f)return e=null,f+""||null}return a.x=function(_){return arguments.length?(t=typeof _=="function"?_:x(+_),a):t},a.y=function(_){return arguments.length?(i=typeof _=="function"?_:x(+_),a):i},a.defined=function(_){return arguments.length?(n=typeof _=="function"?_:x(!!_),a):n},a.curve=function(_){return arguments.length?(h=_,s!=null&&(e=h(s)),a):h},a.context=function(_){return arguments.length?(_==null?s=e=null:e=h(s=_),a):s},a}class O{constructor(i,n){this._context=i,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(i,n){switch(i=+i,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+i)/2,this._y0,this._x0,n,i,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,i,this._y0,i,n);break}}this._x0=i,this._y0=n}}function ft(t){return new O(t,!0)}function pt(t){return new O(t,!1)}function d(){}function y(t,i,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+n)/6)}function R(t){this._context=t}R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:y(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function xt(t){return new R(t)}function X(t){this._context=t}X.prototype={areaStart:d,areaEnd:d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:y(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function dt(t){return new X(t)}function Y(t){this._context=t}Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:y(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function yt(t){return new Y(t)}function I(t){this._context=t}I.prototype={areaStart:d,areaEnd:d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,i){t=+t,i=+i,this._point?this._context.lineTo(t,i):(this._point=1,this._context.moveTo(t,i))}};function bt(t){return new I(t)}function A(t){return t<0?-1:1}function z(t,i,n){var s=t._x1-t._x0,h=i-t._x1,e=(t._y1-t._y0)/(s||h<0&&-0),o=(n-t._y1)/(h||s<0&&-0),a=(e*h+o*s)/(s+h);return(A(e)+A(o))*Math.min(Math.abs(e),Math.abs(o),.5*Math.abs(a))||0}function B(t,i){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-i)/2:i}function M(t,i,n){var s=t._x0,h=t._y0,e=t._x1,o=t._y1,a=(e-s)/3;t._context.bezierCurveTo(s+a,h+a*i,e-a,o-a*n,e,o)}function b(t){this._context=t}b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M(this,this._t0,B(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var n=NaN;if(t=+t,i=+i,!(t===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,M(this,B(this,n=z(this,t,i)),n);break;default:M(this,this._t0,n=z(this,t,i));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=n}}};function Z(t){this._context=new D(t)}(Z.prototype=Object.create(b.prototype)).point=function(t,i){b.prototype.point.call(this,i,t)};function D(t){this._context=t}D.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,n,s,h,e){this._context.bezierCurveTo(i,t,s,n,e,h)}};function vt(t){return new b(t)}function Tt(t){return new Z(t)}function F(t){this._context=t}F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),n===2)this._context.lineTo(t[1],i[1]);else for(var s=L(t),h=L(i),e=0,o=1;o<n;++e,++o)this._context.bezierCurveTo(s[0][e],h[0][e],s[1][e],h[1][e],t[o],i[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}};function L(t){var i,n=t.length-1,s,h=new Array(n),e=new Array(n),o=new Array(n);for(h[0]=0,e[0]=2,o[0]=t[0]+2*t[1],i=1;i<n-1;++i)h[i]=1,e[i]=4,o[i]=4*t[i]+2*t[i+1];for(h[n-1]=2,e[n-1]=7,o[n-1]=8*t[n-1]+t[n],i=1;i<n;++i)s=h[i]/e[i-1],e[i]-=s,o[i]-=s*o[i-1];for(h[n-1]=o[n-1]/e[n-1],i=n-2;i>=0;--i)h[i]=(o[i]-h[i+1])/e[i];for(e[n-1]=(t[n]+h[n-1])/2,i=0;i<n-1;++i)e[i]=2*t[i+1]-h[i+1];return[h,e]}function $t(t){return new F(t)}function v(t,i){this._context=t,this._t=i}v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,i)}break}}this._x=t,this._y=i}};function Mt(t){return new v(t,.5)}function mt(t){return new v(t,0)}function wt(t){return new v(t,1)}export{V as A,R as B,pt as C,ft as D,yt as E,dt as F,W as G,tt as H,x as a,_t as b,st as c,it as d,at as e,nt as f,lt as g,C as h,et as i,rt as j,xt as k,ut as l,ht as m,U as n,d as o,k as p,mt as q,wt as r,ot as s,ct as t,Mt as u,$t as v,K as w,Tt as x,vt as y,bt as z};
