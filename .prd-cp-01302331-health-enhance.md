---
id: prd-cp-01302331-health-enhance
version: 1.0.0
created: 2026-01-30
source: plan_daily_20260130
---

# PRD - 健康检查增强

## 背景

当前 PerformanceMonitoring 页面已有服务健康状态显示，但缺少：
1. 服务健康历史记录 - 用户只能看实时状态，不知道过去发生了什么
2. 连续失败计数显示 - 后端有 consecutiveFailures 但前端未显示
3. 最后检查时间显示 - 用户不知道数据有多新

## 目标

增强前端健康检查显示，让用户能看到更多有用信息。

## 功能需求

### 1. 显示最后检查时间
- 在服务健康卡片中显示 `last_check` 时间
- 格式：相对时间（如"10秒前"）

### 2. 显示服务延迟
- 当前已有 latency_ms，确保正确显示

### 3. 增加健康检查历史趋势
- 复用后端 `/api/system/health` 数据
- 显示每个服务的历史状态变化（可选，如果后端支持）

## 非功能需求

- 不增加新的 API 调用
- 复用现有 SystemHealthResponse 数据结构
- 保持 UI 简洁

## 成功标准

- [ ] 服务卡片显示最后检查时间
- [ ] 延迟显示正确（已有）
- [ ] 代码通过 lint 和类型检查
- [ ] 无回归问题
