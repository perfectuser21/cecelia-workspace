# PRD: Autopilot å¯¼èˆªç»“æ„é‡æ„

## èƒŒæ™¯

å½“å‰ Autopilot å¯¼èˆªæŒ‰ Feature ç±»å‹åˆ†ç»„ï¼ˆæ¦‚è§ˆ/ç®¡ç†/ç³»ç»Ÿï¼‰ï¼Œé€»è¾‘æ··ä¹±ï¼Œç”¨æˆ·ä¸çŸ¥é“æ‰¾ä»€ä¹ˆåœ¨å“ªã€‚

éœ€è¦æ”¹æˆæŒ‰**åœºæ™¯ (Scenario)** åˆ†ç»„ï¼Œè®©å¯¼èˆªç¬¦åˆç”¨æˆ·å¿ƒæ™ºæ¨¡å‹ã€‚

---

## ç›®æ ‡

1. ä¾§è¾¹æ æ”¹ä¸ºåœºæ™¯å…¥å£ï¼Œè€Œé Feature åˆ—è¡¨
2. å½“å‰æ‰€æœ‰åŠŸèƒ½æ”¶è¿›"æ–°åª’ä½“è¿è¥"åœºæ™¯
3. åœºæ™¯å†…ç”¨ Tab åˆ‡æ¢ï¼Œä¸åµŒå¥—ä¾§è¾¹æ 
4. ä¸ºæœªæ¥æ‰©å±•ï¼ˆç§åŸŸã€æ”¿ç­–æœç´¢ç­‰åœºæ™¯ï¼‰é¢„ç•™æ¶æ„

---

## æ–°å¯¼èˆªç»“æ„

### ä¾§è¾¹æ ï¼ˆä¸€çº§ï¼Œå¹³çº§å…³ç³»ï¼‰

```
ğŸ“Š å·¥ä½œå°        /                    æ€»è§ˆé¦–é¡µï¼ˆæ‰€æœ‰åœºæ™¯çš„æ±‡æ€»ï¼‰
ğŸ“± æ–°åª’ä½“è¿è¥    /media               åœºæ™¯å…¥å£
ğŸ‘¥ ç§åŸŸè¿è¥      /private             åœºæ™¯å…¥å£ï¼ˆæœªæ¥æ‰©å±•ï¼‰
ğŸ“‹ æ”¿ç­–æœç´¢      /policy              åœºæ™¯å…¥å£ï¼ˆæœªæ¥æ‰©å±•ï¼Œç»ç»œç”Ÿæºç”¨ï¼‰
âš™ï¸ è®¾ç½®         /settings            SuperAdmin
```

**è¯´æ˜**ï¼š
- å·¥ä½œå°å’Œå„åœºæ™¯æ˜¯**å¹³çº§**çš„
- å·¥ä½œå° = æ‰€æœ‰åœºæ™¯çš„å…³é”®æ•°æ®æ±‡æ€»ï¼Œå¿«æ·å…¥å£
- å„åœºæ™¯ = ç‹¬ç«‹çš„ä¸šåŠ¡æ¨¡å—ï¼Œç‚¹è¿›å»æœ‰è‡ªå·±çš„ Tab ç»“æ„
- å½“å‰åªå®ç°"æ–°åª’ä½“è¿è¥"ï¼Œå…¶ä»–åœºæ™¯ä¸ºæœªæ¥é¢„ç•™

### æ–°åª’ä½“è¿è¥ï¼ˆäºŒçº§ Tabï¼‰

ç‚¹å‡»"æ–°åª’ä½“è¿è¥"è¿›å…¥ `/media`ï¼Œé¡µé¢é¡¶éƒ¨æœ‰ Tab åˆ‡æ¢ï¼š

| Tab | è·¯ç”± | åŒ…å«åŠŸèƒ½ |
|-----|------|----------|
| å†…å®¹ | `/media/content` | å†…å®¹ç®¡ç†ã€æ•°æ®é‡‡é›† |
| å‘å¸ƒ | `/media/publish` | å‘å¸ƒä»»åŠ¡ã€æ‰§è¡Œè®°å½•ã€å¹³å°çŠ¶æ€ |
| æ•°æ® | `/media/data` | å‘å¸ƒç»Ÿè®¡ã€æ•°æ®åˆ†æ |

### è¯¦ç»†è·¯ç”±æ˜ å°„

| æ–°è·¯ç”± | åŸè·¯ç”± | ç»„ä»¶ |
|--------|--------|------|
| `/` | `/` | Dashboard |
| `/media` | - | æ–°é¡µé¢ï¼šMediaScenarioï¼ˆåœºæ™¯å…¥å£ï¼‰ |
| `/media/content` | `/content` | ContentPublish |
| `/media/content/scraping` | `/scraping` | ScrapingPage |
| `/media/publish` | `/tasks` | Tasks |
| `/media/publish/history` | `/execution-status` | ExecutionStatus |
| `/media/publish/platforms` | `/platform-status` | PlatformStatus |
| `/media/data` | `/publish-stats` | PublishStats |
| `/media/data/analytics` | `/data-center` | ContentData |
| `/settings` | `/settings` | AdminSettingsPage |

---

## é¡µé¢è®¾è®¡

### 1. æ–°åª’ä½“è¿è¥åœºæ™¯é¡µ (`/media`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–°åª’ä½“è¿è¥                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [å†…å®¹]  [å‘å¸ƒ]  [æ•°æ®]          â† Tab åˆ‡æ¢              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  æ ¹æ®å½“å‰ Tab æ˜¾ç¤ºå¯¹åº”å†…å®¹                               â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å†…å®¹ Tab (`/media/content`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å†…å®¹ç®¡ç†]  [æ•°æ®é‡‡é›†]          â† å­ Tab                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  æ˜¾ç¤º ContentPublish æˆ– ScrapingPage                    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å‘å¸ƒ Tab (`/media/publish`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å‘å¸ƒä»»åŠ¡]  [æ‰§è¡Œè®°å½•]  [å¹³å°çŠ¶æ€]  â† å­ Tab            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  æ˜¾ç¤º Tasks / ExecutionStatus / PlatformStatus          â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. æ•°æ® Tab (`/media/data`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å‘å¸ƒç»Ÿè®¡]  [æ•°æ®åˆ†æ]          â† å­ Tab                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  æ˜¾ç¤º PublishStats / ContentData                        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®ç°æ–¹æ¡ˆ

### 1. æ–°å»ºåœºæ™¯å®¹å™¨ç»„ä»¶

åˆ›å»º `MediaScenarioPage.tsx`ï¼š
- é¡¶éƒ¨ Tab å¯¼èˆªï¼ˆå†…å®¹/å‘å¸ƒ/æ•°æ®ï¼‰
- æ ¹æ®è·¯ç”±æ¸²æŸ“å¯¹åº”å­é¡µé¢
- ä½¿ç”¨ React Router çš„åµŒå¥—è·¯ç”±

### 2. ä¿®æ”¹ navigation.config.ts

```typescript
export const autopilotNavGroups: NavGroup[] = [
  {
    title: '',  // æ— åˆ†ç»„æ ‡é¢˜
    items: [
      {
        path: '/',
        icon: LayoutDashboard,
        label: 'å·¥ä½œå°',
        featureKey: 'workbench',
        component: 'Dashboard'
      },
      {
        path: '/media',
        icon: Video,
        label: 'æ–°åª’ä½“è¿è¥',
        featureKey: 'media-scenario',
        component: 'MediaScenarioPage'
      },
      {
        path: '/settings',
        icon: Settings,
        label: 'è®¾ç½®',
        featureKey: 'settings',
        requireSuperAdmin: true,
        component: 'AdminSettingsPage'
      },
    ]
  }
];
```

### 3. é…ç½®åµŒå¥—è·¯ç”±

```typescript
// åœ¨ MediaScenarioPage å†…éƒ¨å¤„ç†å­è·¯ç”±
/media           â†’ é»˜è®¤é‡å®šå‘åˆ° /media/content
/media/content   â†’ å†…å®¹ Tab
/media/publish   â†’ å‘å¸ƒ Tab
/media/data      â†’ æ•°æ® Tab
```

### 4. åˆ é™¤/åˆå¹¶çš„åŠŸèƒ½

| åŠŸèƒ½ | å¤„ç† |
|------|------|
| å·¥å…·ç®± (ToolsPage) | åˆ é™¤ï¼Œç™»å½•çŠ¶æ€ç§»å…¥å¹³å°çŠ¶æ€ |
| ç”»å¸ƒ (Canvas) | ç§»å…¥è®¾ç½®é¡µé¢çš„ç®¡ç†å‘˜ä¸“åŒº |

---

## æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å»ºæ–‡ä»¶

```
src/pages/MediaScenarioPage.tsx     åœºæ™¯å®¹å™¨é¡µ
src/components/ScenarioTabs.tsx     é€šç”¨ Tab ç»„ä»¶
```

### ä¿®æ”¹æ–‡ä»¶

```
src/config/navigation.config.ts     å¯¼èˆªé…ç½®
src/App.tsx                         è·¯ç”±é…ç½®
src/contexts/InstanceContext.tsx    features é…ç½®
```

### å¯åˆ é™¤æ–‡ä»¶

```
src/pages/ToolsPage.tsx             å·¥å…·ç®±é¡µé¢ï¼ˆåŠŸèƒ½åˆå¹¶åï¼‰
```

---

## éªŒæ”¶æ ‡å‡† (DoD)

- [ ] ä¾§è¾¹æ åªæ˜¾ç¤ºï¼šå·¥ä½œå°ã€æ–°åª’ä½“è¿è¥ã€è®¾ç½®
- [ ] ç‚¹å‡»"æ–°åª’ä½“è¿è¥"è¿›å…¥åœºæ™¯é¡µï¼Œé¡¶éƒ¨æœ‰ Tab
- [ ] Tab åˆ‡æ¢æ­£å¸¸ï¼Œå­é¡µé¢æ¸²æŸ“æ­£ç¡®
- [ ] åŸæœ‰åŠŸèƒ½å…¨éƒ¨å¯è®¿é—®ï¼Œæ— ä¸¢å¤±
- [ ] è·¯ç”±æ”¯æŒç›´æ¥è®¿é—®ï¼ˆå¦‚ `/media/publish/history`ï¼‰
- [ ] ç§»åŠ¨ç«¯ Tab å¯æ¨ªå‘æ»šåŠ¨

---

## æœªæ¥æ‰©å±•

å½“éœ€è¦æ·»åŠ æ–°åœºæ™¯æ—¶ï¼š

```typescript
// navigation.config.ts
{
  path: '/private',
  icon: Users,
  label: 'ç§åŸŸè¿è¥',
  featureKey: 'private-scenario',
  component: 'PrivateScenarioPage'
}
```

åˆ›å»ºå¯¹åº”çš„ `PrivateScenarioPage.tsx`ï¼Œå†…éƒ¨å®šä¹‰è¯¥åœºæ™¯çš„ Tab å’Œå­é¡µé¢ã€‚

---

## æ—¶é—´çº¿

1. Phase 1: åˆ›å»ºåœºæ™¯å®¹å™¨ç»„ä»¶ + Tab å¯¼èˆª
2. Phase 2: è¿ç§»ç°æœ‰é¡µé¢åˆ°æ–°è·¯ç”±
3. Phase 3: æ¸…ç†æ—§ä»£ç  + æµ‹è¯•
