# DoD - KR1: 意图识别 - 自然语言→OKR/Project/Task

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收
- [ ] API 端点 `/api/intent/parse` 能够接收 POST 请求，参数包含 `text` 字段
      Test: tests/api/intent.test.ts
- [ ] 能够识别 `create_task` 意图类型（输入"我想创建一个任务"时返回 create_task）
      Test: tests/lib/intent-parser.test.ts
- [ ] 能够识别 `query_status` 意图类型（输入"查看当前任务状态"时返回 query_status）
      Test: tests/lib/intent-parser.test.ts
- [ ] 能够识别 `update_progress` 意图类型（输入"更新任务进度到50%"时返回 update_progress）
      Test: tests/lib/intent-parser.test.ts
- [ ] 对于 create_task 意图，能够提取标题、优先级（P0/P1/P2）
      Test: tests/lib/intent-parser.test.ts
- [ ] 对于 create_task 意图，能够关联当前 Brain 状态中的 current_focus 项目
      Test: tests/api/intent.test.ts
- [ ] API 返回包含：intent_type、confidence、entities、suggested_action
      Test: tests/api/intent.test.ts
- [ ] API 响应时间 < 500ms（不含 LLM 调用）
      Test: tests/api/intent.test.ts
- [ ] 边界情况：空字符串输入返回错误提示
      Test: tests/api/intent.test.ts
- [ ] 边界情况：模糊输入返回低置信度 + 建议澄清
      Test: tests/lib/intent-parser.test.ts

### 测试验收
- [ ] npm run qa 通过
      Test: contract:C2-001
- [ ] TypeScript 类型检查通过
      Test: npm run build
