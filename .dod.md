# DoD - Platform Data Feature 架构迁移

## 验收标准

### 功能验收

- [ ] apps/features/ 目录存在
      Test: manual:目录结构验证

- [ ] apps/features/platform-data/ 目录结构完整（skill/, workflows/, shared/, README.md）
      Test: manual:目录结构验证

- [ ] Feature-level skill 入口文件存在（skill/SKILL.md, skill/command.sh）
      Test: tests/features/platform-data/skill-routing.test.ts

- [ ] command.sh 能正确路由到三个子命令（scrape, analyze, publish）
      Test: tests/features/platform-data/skill-routing.test.ts

- [ ] scraper workflow 脚本迁移完成（8 个平台的 scraper-*.js 文件）
      Test: manual:文件清单验证

- [ ] analyzer workflow 脚本迁移完成
      Test: manual:文件清单验证

- [ ] publisher workflow 脚本迁移完成
      Test: manual:文件清单验证

- [ ] 每个 workflow 有 README.md 说明文档
      Test: manual:文档验证

- [ ] Feature 总览 README.md 完整（包含架构说明、使用方式、workflows 列表）
      Test: manual:文档验证

- [ ] 迁移的脚本保持原有功能（基本功能可运行）
      Test: manual:功能验证

### 代码质量

- [ ] 所有新增文件符合项目代码规范
      Test: contract:C2-001

- [ ] command.sh 有执行权限（chmod +x）
      Test: manual:权限验证

- [ ] 没有引入新的安全风险（如硬编码凭据）
      Test: manual:安全审查

### 文档验收

- [ ] skill/SKILL.md 包含完整的 Skill 使用说明
      Test: manual:文档验证

- [ ] 每个 workflow README.md 包含功能说明和使用示例
      Test: manual:文档验证

- [ ] Feature README.md 包含架构图和调用方式说明
      Test: manual:文档验证

### 测试验收

- [ ] 目录结构验证测试通过
      Test: tests/features/platform-data/structure.test.ts

- [ ] Skill 路由测试通过
      Test: tests/features/platform-data/skill-routing.test.ts

## 非目标确认

以下内容**不在此 PR 范围内**，确认未做：

- [ ] ✅ 未修改 scraper/analyzer/publisher 的实现逻辑
      Test: manual:代码审查

- [ ] ✅ 未更新 cecelia-engine/skills-registry.json
      Test: manual:文件检查

- [ ] ✅ 未实现 shared/ 共享代码
      Test: manual:目录检查

- [ ] ✅ 未删除旧的独立 repo
      Test: manual:文件系统检查

## Evidence 文件

手动验证项需要在 .quality-evidence.json 中记录：

```json
{
  "manual:目录结构验证": {
    "type": "directory_check",
    "verified_at": "2026-02-10",
    "description": "验证 apps/features/platform-data/ 目录结构完整"
  },
  "manual:文件清单验证": {
    "type": "file_check",
    "verified_at": "2026-02-10",
    "description": "验证所有脚本文件迁移完成"
  },
  "manual:文档验证": {
    "type": "documentation_review",
    "verified_at": "2026-02-10",
    "description": "验证所有 README.md 文档完整"
  },
  "manual:功能验证": {
    "type": "functional_test",
    "verified_at": "2026-02-10",
    "description": "验证基本功能可运行"
  },
  "manual:权限验证": {
    "type": "permission_check",
    "verified_at": "2026-02-10",
    "description": "验证 command.sh 可执行"
  },
  "manual:安全审查": {
    "type": "security_review",
    "verified_at": "2026-02-10",
    "description": "验证无硬编码凭据"
  },
  "manual:代码审查": {
    "type": "code_review",
    "verified_at": "2026-02-10",
    "description": "验证未修改原有逻辑"
  },
  "manual:文件检查": {
    "type": "file_check",
    "verified_at": "2026-02-10",
    "description": "验证 skills-registry.json 未修改"
  },
  "manual:目录检查": {
    "type": "directory_check",
    "verified_at": "2026-02-10",
    "description": "验证 shared/ 目录未创建"
  },
  "manual:文件系统检查": {
    "type": "filesystem_check",
    "verified_at": "2026-02-10",
    "description": "验证旧 repo 未删除"
  }
}
```
