# DoD - Quality Monitor v2 - Decision + Execution Hub

QA: docs/QA-DECISION.md

## 验收标准

### 阶段 1：Run Detail 页面

- [ ] 创建 RunDetailPanel 组件（右侧抽屉式）
      Test: manual:验证组件渲染和交互

- [ ] 显示 summary 信息
      Test: manual:检查 summary 数据显示正确

- [ ] 显示 tests 结果（饼图 + 列表）
      Test: manual:验证饼图和列表渲染

- [ ] 显示 skipped_details（可展开）
      Test: manual:验证可展开交互

- [ ] 显示 evidence 文件列表
      Test: manual:验证文件列表渲染

- [ ] 点击 Run ID 触发抽屉打开
      Test: manual:点击测试抽屉打开

### 阶段 2：Task System Surface

- [ ] 添加 Queue 卡片（显示 pending length）
      Test: manual:验证卡片显示队列长度

- [ ] 创建 Task Queue 列表组件
      Test: manual:验证列表组件渲染

- [ ] 显示每个任务的详细信息
      Test: manual:验证任务信息展示

- [ ] 添加 Worker Status 指示器
      Test: manual:验证 Worker 状态显示

- [ ] API: GET /api/quality/queue
      Test: tests/api/quality-queue.test.ts

- [ ] API: GET /api/quality/worker
      Test: tests/api/quality-worker.test.ts

### 阶段 3：新增 API 端点

- [ ] API: GET /api/quality/runs/:runId/evidence
      Test: tests/api/quality-evidence.test.ts

- [ ] API: GET /api/quality/runs/:runId/logs/:filename
      Test: tests/api/quality-logs.test.ts

### 测试验收

- [ ] 所有 API 单元测试通过
      Test: npm test

- [ ] TypeScript 类型检查通过
      Test: npm run typecheck

- [ ] 前端构建成功
      Test: npm run build
