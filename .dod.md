---
id: dod-validate-prd-endpoint
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

# DoD - PRD Validation API Endpoint

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收 - validatePrd 函数
- [x] validatePrd 检测缺失的必需 section 返回 errors
      Test: apps/core/src/brain/__tests__/templates.test.js
- [x] validatePrd 检测 frontmatter 缺失返回 warning
      Test: apps/core/src/brain/__tests__/templates.test.js
- [x] validatePrd 检测"待定义"验收标准返回 error
      Test: apps/core/src/brain/__tests__/templates.test.js
- [x] validatePrd 对有效 PRD 返回 { valid: true, errors: [], warnings: [] }
      Test: apps/core/src/brain/__tests__/templates.test.js

### 功能验收 - API 端点
- [x] POST /api/brain/validate/prd 接收 content 返回验证结果
      Test: manual:curl
- [x] 缺少 content 参数返回 400
      Test: manual:curl

### 回归验收
- [x] 现有 58 测试全部通过
      Test: manual:vitest run
