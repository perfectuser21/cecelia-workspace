---
id: dod-project-lifecycle-enhance
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

# DoD - 项目生命周期 API 增强

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收 - 状态机
- [ ] VALID_STATUSES 包含 6 种状态
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js
- [ ] active ↔ paused 双向转移
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js
- [ ] completed → archived 有效
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js
- [ ] archived 为终态
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js

### 功能验收 - 列表过滤
- [ ] GET ?status=active 只返回 active 项目
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js
- [ ] GET ?top_level=true 只返回顶层项目
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js
- [ ] GET ?parent_id=<uuid> 只返回子项目
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js
- [ ] parent_id 优先于 top_level
      Test: apps/core/src/task-system/__tests__/project-state-machine.test.js

### 回归验收
- [ ] 现有测试全部通过
      Test: manual:vitest run
