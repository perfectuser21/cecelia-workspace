---
id: dod-kr2-prd-trd-validation
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

# DoD - PRD/TRD 验证功能

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收 - validatePrd
- [ ] validatePrd 对完整 PRD 返回 { valid: true, errors: [] }
      Test: apps/core/src/brain/__tests__/templates.test.js
- [ ] validatePrd 对缺少 section 的 PRD 返回 { valid: false, errors: [...] }
      Test: apps/core/src/brain/__tests__/templates.test.js

### 功能验收 - validateTrd
- [ ] validateTrd 对完整 TRD 返回 { valid: true, errors: [] }
      Test: apps/core/src/brain/__tests__/templates.test.js
- [ ] validateTrd 对缺少 section 的 TRD 返回 { valid: false, errors: [...] }
      Test: apps/core/src/brain/__tests__/templates.test.js

### 功能验收 - API 端点
- [ ] POST /api/brain/validate/prd 返回 200 + 验证结果
      Test: manual:curl
- [ ] POST /api/brain/validate/trd 返回 200 + 验证结果
      Test: manual:curl
- [ ] 缺少 content 参数时返回 400
      Test: manual:curl

### 回归验收
- [ ] 现有测试全部通过
      Test: manual:vitest run
