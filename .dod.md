# DoD - 导航架构重构：从平层到层级深钻

## 验收标准

### 功能验收
- [ ] NavGroupItem/FeatureRoute/NavItem 类型支持 children 字段
      Test: manual:TypeScript 编译通过
- [ ] Today/Work/Knowledge/System manifests 声明子导航项
      Test: manual:code review 确认 children 数组存在
- [ ] buildNavGroupsFromManifests() 传递 children 到 NavGroupItem
      Test: manual:code review 确认 children mapping
- [ ] CollapsibleNavItem 组件创建，支持展开/折叠
      Test: manual:浏览器验证侧边栏展开折叠
- [ ] 3 处 convertCoreNavGroups() 递归处理 children
      Test: manual:code review 确认递归转换
- [ ] 侧边栏渲染使用 CollapsibleNavItem 替代 flat Link
      Test: manual:浏览器验证层级导航
- [ ] Breadcrumb 组件显示 parent > child 格式
      Test: manual:浏览器验证面包屑导航
- [ ] filterNavGroups() 递归过滤 children
      Test: manual:code review 确认递归过滤

### 构建验收
- [ ] 前端 vite build 通过
      Test: contract:vite-build
- [ ] 后端 tsc --noEmit 编译通过
      Test: contract:tsc-build

### 兼容性验收
- [ ] Dashboard 保持 flat（无子项）
      Test: manual:浏览器验证 Dashboard 无 chevron
- [ ] Autopilot 实例不受影响
      Test: manual:Autopilot 导航保持 flat
- [ ] 所有现有 URL 路由保持不变
      Test: manual:浏览器验证页面可访问
