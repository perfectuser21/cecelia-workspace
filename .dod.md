---
id: dod-kr2-prd-trd-standardization
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

# DoD - PRD/TRD 自动生成标准化

QA: docs/QA-DECISION.md

## 验收清单

- [x] `planner.js:generateTaskPRD()` 调用 `templates.js:renderPrd()` 生成 PRD
      Test: unit:templates.test.js 验证生成内容包含 KR 信息
- [x] `renderPrd()` 支持 context 参数（含 KR/project 信息）
      Test: unit:传入 context 参数验证输出包含 KR 标题和项目路径
- [x] 新增 `validatePrd()` 函数，返回 `{ valid, score, missing_fields }`
      Test: unit:完整 PRD 返回 valid=true，空内容返回 valid=false
- [x] 新增 `POST /api/brain/validate/prd` 端点
      Test: manual:curl POST 验证返回 JSON
- [x] templates.test.js 新增 validatePrd 测试用例（≥3 个）
      Test: unit:npm test -- templates (61 tests pass)
- [x] 现有测试全部通过
      Test: unit:templates.test.js 61/61 pass
