---
version: 2.0.0
updated: 2026-01-29
changelog:
  - 2.0.0: PRD 02 - OKR Tree CRUD API
  - 1.0.1: 添加 migrateGoalsTable 迁移函数验收项
  - 1.0.0: 初始版本
---

# DoD - OKR Tree CRUD API

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收

- [ ] GET /api/okr/trees 返回所有顶层 Objectives（含 children_count）
      Test: apps/core/src/okr/__tests__/trees.test.js
- [ ] GET /api/okr/trees/:id 返回完整 OKR 树（含所有 KR）
      Test: apps/core/src/okr/__tests__/trees.test.js
- [ ] POST /api/okr/trees 一次性创建 O + 多个 KR
      Test: apps/core/src/okr/__tests__/trees.test.js
- [ ] PUT /api/okr/trees/:id 支持添加/删除 KR
      Test: apps/core/src/okr/__tests__/trees.test.js
- [ ] DELETE /api/okr/trees/:id 级联删除 O 及其 KR
      Test: apps/core/src/okr/__tests__/trees.test.js

### 测试验收

- [ ] npm run qa 通过（在 apps/core 目录）
      Test: contract:CI
