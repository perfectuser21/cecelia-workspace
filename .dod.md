---
id: dod-project-state-machine
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

## DoD - 项目状态机

**关联 PRD**: .prd.md (prd-project-state-machine)
**QA 决策**: docs/QA-DECISION.md

### 验收清单

- [ ] 定义 VALID_STATUSES = ['planning', 'active', 'reviewing', 'completed']
- [ ] 定义 VALID_TRANSITIONS map
- [ ] POST 创建项目默认 status = 'planning'
- [ ] PATCH status 时验证转换合法性，非法返回 400
- [ ] POST /:id/transition 端点可用
- [ ] 非法状态值返回 400，项目不存在返回 404
- [ ] 测试覆盖所有合法转换和非法转换

### 测试策略

- 单元测试覆盖状态机验证逻辑
- 集成测试覆盖 API 端点
