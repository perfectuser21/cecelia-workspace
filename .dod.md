---
id: dod-standardize-prd-trd-generation
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

# DoD - 标准化 PRD/TRD 自动生成系统

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收 - Decomposer 标准化
- [ ] decomposer.generatePRD() 输出包含 frontmatter（id, version, created）
      Test: apps/core/src/brain/__tests__/decomposer.test.js
- [ ] decomposer.generatePRD() 输出包含标准 6 section 结构
      Test: apps/core/src/brain/__tests__/decomposer.test.js
- [ ] decomposeTRD() 后每个 milestone 的 prd 字段为标准模板格式
      Test: apps/core/src/brain/__tests__/decomposer.test.js

### 功能验收 - PRD 验证
- [ ] validatePrd() 对有效 PRD 返回 {valid: true, errors: []}
      Test: apps/core/src/brain/__tests__/templates.test.js
- [ ] validatePrd() 对缺失字段 PRD 返回 {valid: false, errors: [...]}
      Test: apps/core/src/brain/__tests__/templates.test.js
- [ ] validatePrd() 对空内容返回 {valid: false, errors: [...]}
      Test: apps/core/src/brain/__tests__/templates.test.js
- [ ] POST /api/brain/validate/prd 端点返回正确结构
      Test: manual:curl

### 回归验收
- [ ] 现有 templates.test.js 全部通过
      Test: manual:vitest run
- [ ] 现有 decomposer.test.js 全部通过
      Test: manual:vitest run
