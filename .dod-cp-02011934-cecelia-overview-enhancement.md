# DoD - 增强 Cecelia Overview 前端页面显示关键运行指标

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收

#### 1. Seats 配置显示
- [ ] 显示最大并发数（max_concurrent）
      Test: manual:截图验证显示正确
- [ ] 显示当前使用中的 seats 数量
      Test: manual:截图验证显示正确
- [ ] 显示可用 seats 数量
      Test: manual:截图验证显示正确

#### 2. Tick Loop 实时状态显示
- [ ] 显示是否运行中（enabled + loop_running）
      Test: manual:截图验证显示正确
- [ ] 显示上次运行时间（last_tick）
      Test: manual:截图验证显示正确
- [ ] 显示下次运行时间（next_tick）
      Test: manual:截图验证显示正确
- [ ] 显示今日执行次数（actions_today）
      Test: manual:截图验证显示正确
- [ ] 显示循环间隔（loop_interval_ms，转换为分钟）
      Test: manual:截图验证显示正确

#### 3. 当前活动显示
- [ ] 显示当前正在执行的任务（in_progress 任务列表）
      Test: manual:截图验证任务列表显示
- [ ] 显示最后派发的任务
      Test: manual:截图验证任务列表显示

#### 4. 熔断器状态显示
- [ ] 显示所有 circuit breaker 的状态（OPEN/CLOSED/HALF_OPEN）
      Test: manual:验证颜色映射（CLOSED=绿，OPEN=红，HALF_OPEN=黄）
- [ ] 熔断器状态用颜色区分（CLOSED=绿色，OPEN=红色，HALF_OPEN=黄色）
      Test: manual:验证颜色映射（CLOSED=绿，OPEN=红，HALF_OPEN=黄）
- [ ] 显示失败次数
      Test: manual:验证颜色映射（CLOSED=绿，OPEN=红，HALF_OPEN=黄）
- [ ] 显示最后失败时间（如果有）
      Test: manual:验证颜色映射（CLOSED=绿，OPEN=红，HALF_OPEN=黄）

#### 5. 任务队列统计显示
- [ ] 显示 queued 任务数量
      Test: manual:截图验证数量统计
- [ ] 显示 in_progress 任务数量
      Test: manual:截图验证数量统计
- [ ] 显示 completed 任务数量
      Test: manual:截图验证数量统计
- [ ] 显示 failed 任务数量
      Test: manual:截图验证数量统计
- [ ] 显示 cancelled 任务数量
      Test: manual:截图验证数量统计

#### 6. 数据刷新
- [ ] 数据自动刷新（每 30 秒）
      Test: manual:等待 30 秒观察数据更新

#### 7. UI 布局
- [ ] UI 使用卡片布局区分不同区域
      Test: manual:截图验证 UI 美观性
- [ ] Tick Loop 运行状态用图标或状态指示器显示
      Test: manual:截图验证 UI 美观性
- [ ] 任务队列统计用进度条或饼图可视化
      Test: manual:截图验证 UI 美观性

#### 8. 数据源集成
- [ ] Brain API 集成正确（http://localhost:5221/api/brain/tick/status）
      Test: tests/cecelia-overview.test.tsx
- [ ] Tasks API 集成正确（/api/tasks/tasks）
      Test: tests/cecelia-overview.test.tsx

### 测试验收
- [ ] npm run qa 通过
      Test: contract:C2-001
