---
id: prd-frontend-independence
version: 1.0.0
created: 2026-02-07
updated: 2026-02-07
changelog:
  - 1.0.0: 初始版本
---

## PRD - Cecelia 前端独立化

**需求来源**: 用户要求 cecelia-workspace 完全独立，不依赖 zenithjoy-workspace

**功能描述**:
将 core/frontend/ 的前端构建壳（vite.config.ts、App.tsx、main.tsx、index.html、tailwind 配置等）搬到 workspace/apps/dashboard/，使 cecelia-workspace 拥有完整的前端构建能力。修复所有指向 zenithjoy 的路径引用（deploy-hk.sh、docker-compose、server.ts）。

**涉及文件**:
- `apps/dashboard/` — 搬入前端构建壳（vite.config.ts, src/main.tsx, src/App.tsx, index.html, tailwind.config.js, postcss.config.cjs, tsconfig.json, package.json）
- `apps/dashboard/vite.config.ts` — alias @features/core 指向 ../core/features
- `deploy/deploy-hk.sh` — FRONTEND_DIR 改为 workspace 内部路径
- `deploy/docker-compose.hk.yml` — 挂载路径更新
- `apps/core/src/dashboard/server.ts` — frontendPath 改为 cecelia 自己的 dist
- `apps/core/features/node_modules` — 删除断链 symlink

**成功标准**:
1. `cd apps/dashboard && npx vite build` 构建成功
2. 构建产物包含所有页面组件
3. deploy-hk.sh 使用 workspace 内部路径
4. 无任何 zenithjoy 路径依赖
5. npm run build 后端构建仍然通过

**非目标**:
- 不清理文档中的 zenjoymedia.media 域名引用（域名是正确的，共用的）
- 不修改 core/frontend/ 旧目录（留着不管，不删）
- 不改 CI 配置
