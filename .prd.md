---
id: fix-vite-core-path
version: 1.0.0
created: 2026-01-27
---

# PRD: Fix Vite Core Features Path

## 问题

访问 dev-core 时：
- 左侧侧边栏消失
- 颜色配置不对
- Core features 无法加载

## 原因

`vite.config.ts` 仍在寻找旧的 `zenithjoy-core` 路径，而项目已经是 monorepo 结构，Core features 在 `apps/core/features`。

## 解决方案

更新 `apps/dashboard/frontend/vite.config.ts`：
```typescript
// 旧代码
const localCorePath = path.resolve(__dirname, '../../../../zenithjoy-core/features')
const ciCorePath = path.resolve(__dirname, '../../../zenithjoy-core/features')

// 新代码 - monorepo 路径
const monorepoCorePath = path.resolve(__dirname, '../../core/features')
const coreAvailable = fs.existsSync(monorepoCorePath)
const coreFeaturesPath = coreAvailable
  ? monorepoCorePath
  : path.resolve(__dirname, './src/stubs/core-features')
```

## 验收标准

见 .dod.md
