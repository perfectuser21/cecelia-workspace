---
id: memory-table-view
version: 1.0.0
created: 2026-02-23
updated: 2026-02-23
changelog:
  - 1.0.0: 初始版本
---

# PRD: 记忆管理页面改造为数据库表格视图

## 需求来源
当前 ProfileFactsPage 使用卡片列表布局，数据量大时体验差。
用户需要类似 Notion Database / Airtable 的表格视图，支持搜索和分页。

## 功能描述

### 核心改动：卡片列表 → 表格视图
将 `FactRow` 卡片替换为标准 HTML table，列定义：
- **内容**（flex-1，截断超长文本，hover 展示全文 tooltip）
- **分类**（彩色 badge，80px）
- **创建时间**（90px，紧凑格式 MM-DD HH:mm）
- **操作**（编辑/删除，60px）

### 搜索栏
- 顶部输入框，placeholder "搜索记忆..."
- 前端实时过滤（在已加载的数据中 filter content）
- 清空按钮（×）

### 分页
- 每页 20 条，底部 "上一页 / 第 N 页 / 下一页"
- API 已支持 limit/offset，改用真实分页
- 显示 "第 1-20 条，共 X 条"

### 分类筛选
- 现有 dropdown 改为顶部 Tab chip（全部 / 偏好 / 行为 / ...）
- 选中高亮，点击切换

### 行内交互
- hover 行高亮
- 编辑/删除按钮 hover 显示（同现在）
- 保留现有 Modal 编辑（不改交互，只改布局）

## 涉及文件
- `apps/core/features/profile/pages/ProfileFactsPage.tsx`（唯一改动文件）

## 成功标准
- 页面显示为表格，有表头（内容 / 分类 / 时间 / 操作）
- 搜索框实时过滤
- 分页正常工作（翻页数据变化）
- Category tab 筛选正常
- 添加/编辑/删除功能不受影响
