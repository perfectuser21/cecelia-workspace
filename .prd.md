---
id: prd-validate-prd-endpoint
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

# PRD - PRD Validation API Endpoint

**需求来源**: KR2: PRD/TRD 自动生成（标准化）- 当前生成的 PRD 缺乏验证机制，自动生成的 PRD 质量无法保证

**功能描述**: 添加 `POST /api/brain/validate/prd` 端点，接收 PRD markdown 内容，根据 PRD_TEMPLATE 标准验证必需字段和内容质量，返回结构化的验证结果

**涉及文件**:
- `apps/core/src/brain/templates.js` - 添加 validatePrd 函数
- `apps/core/src/brain/routes.js` - 添加验证端点
- `apps/core/src/brain/__tests__/templates.test.js` - 添加验证测试

**成功标准**:
- [ ] `POST /api/brain/validate/prd` 接收 `{ content: "..." }` 返回验证结果
- [ ] 验证必需 section 存在：背景、目标、功能需求、验收标准
- [ ] 验证 frontmatter 格式正确（id, version, created）
- [ ] 验证验收标准非空且具体（不含"待定义"）
- [ ] 返回 `{ valid: boolean, errors: string[], warnings: string[] }`
- [ ] 所有新测试通过，现有 58 测试不回归

**非目标**:
- 不修改现有 PRD 生成逻辑
- 不添加 TRD 验证（后续任务）
- 不做语义级别的内容质量判断
