---
id: feature-dashboard
version: 1.0.0
created: 2026-01-26
updated: 2026-01-26
changelog:
  - 1.0.0: 初始版本
---

# PRD: Feature Dashboard 页面

## 功能概述

为 Core 实例创建一个 Feature Dashboard（特性看板）页面，提供对所有 Features 的可视化管理和监控能力。

## 背景

基于 FEATURES.md v2.0.0 定义的 12 个 Features（Foundation 3个 + Business 4个 + Platform 5个），需要一个中心化的看板来：
- 可视化展示所有 Features 的状态和统计
- 支持按不同维度（层级、实例、优先级）筛选
- 监控 RCI 和 Golden Path 覆盖率
- 提供依赖关系可视化

## 核心功能

### F1: 总览统计卡片

**展示内容**：
- Total Features: 12
- Total Sub-features: 30
- RCI Coverage: 75% (9/12)
- Golden Path Coverage: 50% (6/12)

**设计**：
- 4 个统计卡片横向排列
- 每个卡片显示数字 + 百分比（如适用）
- 使用图标增强视觉效果

### F2: 多维度分类统计

**维度 1 - 按层级**：
- Foundation: 3
- Business: 4
- Platform: 5

**维度 2 - 按实例**：
- Autopilot: 4
- Core: 5
- Both (Shared): 3

**维度 3 - 按优先级**：
- P0 (Critical): 4
- P1 (High): 6
- P2 (Medium): 2
- P3 (Low): 0

**维度 4 - 按状态**：
- Done: 11
- In Progress: 1
- Planned: 0

**设计**：
- 使用 Tabs 切换不同维度
- 每个维度使用柱状图或环形图展示
- 支持点击图表筛选

### F3: Feature 列表表格

**列**：
- Feature ID
- Name
- Category
- Instance (标签)
- Priority (标签)
- Status (状态徽章)
- RCI (✓/✗)
- Golden Path (✓/✗)
- Dependencies (数量)
- Actions (查看详情)

**功能**：
- 搜索：按 ID、Name、Description 搜索
- 筛选：
  - Category 多选
  - Instance 多选
  - Priority 多选
  - Status 多选
  - Has RCI (是/否)
  - Has Golden Path (是/否)
- 排序：支持所有列排序
- 分页：每页 10/20/50 条

### F4: Feature 详情抽屉

**触发**：点击表格的"查看详情"

**展示内容**：
- 基础信息：ID、Name、Category、Instance、Owner、Priority、Status
- 描述：完整的功能描述
- 路由：前端路由列表（如有）
- 子功能：子功能数量（如有）
- RCI 契约：显示 RCI 列表（如有）
- Golden Path：显示 GP 列表（如有）
- 依赖关系：
  - Dependencies: 依赖哪些 features
  - Dependents: 被哪些 features 依赖
  - 依赖图可视化（使用 Cytoscape 或 ReactFlow）

### F5: 实例切换支持

**需求**：
- Core 实例用户只看 Core 和 Both 的 features（默认）
- 提供"显示所有"选项，可以看到 Autopilot 的 features（灰色显示）

## 技术方案

### 数据层

**数据源**：`features-data.ts`
- 基于 FEATURES.md v2.0.0 硬编码所有 feature 数据
- 提供统计计算函数
- 提供依赖关系查询函数

### UI 组件

**页面组件**：`FeatureDashboard.tsx`
- 位置：`apps/dashboard/frontend/src/pages/FeatureDashboard.tsx`

**子组件**：
- `FeatureStatsCards.tsx` - 统计卡片
- `FeatureCategoryCharts.tsx` - 分类图表（Tabs + Charts）
- `FeatureTable.tsx` - 特性列表表格
- `FeatureDetailDrawer.tsx` - 特性详情抽屉
- `FeatureDependencyGraph.tsx` - 依赖关系图

**图表库**：
- Recharts（已有）- 用于柱状图、环形图
- React Flow 或 Cytoscape.js - 用于依赖图

### 路由配置

**Core 实例导航**：
- 路由：`/features`
- 菜单项：Features Dashboard
- 图标：LayoutGrid
- 位置：Core 导航第一项（替代或补充现有首页）

## 数据示例

基于 FEATURES.md v2.0.0：

```typescript
{
  id: 'F-MEDIA',
  name: '新媒体运营',
  category: 'Business',
  instances: ['autopilot'],
  owner: '内容运营团队',
  priority: 'P0',
  hasRci: true,
  hasGoldenPath: true,
  status: 'done',
  dependencies: ['F-AUTH', 'F-ACCOUNTS', 'F-NOTIFICATION'],
  routes: ['/media', '/media/content', ...],
  subFeatures: 7,
  description: '核心业务功能，内容采集、发布、数据分析全流程',
}
```

## 验收标准

### 必须项

1. ✅ 总览统计卡片显示正确（4个指标）
2. ✅ 多维度分类统计完整（4个维度，支持切换）
3. ✅ Feature 列表表格功能完整：
   - 显示所有列
   - 搜索正常工作
   - 筛选正常工作
   - 排序正常工作
   - 分页正常工作
4. ✅ Feature 详情抽屉显示完整信息
5. ✅ 依赖关系正确展示（Dependencies + Dependents）
6. ✅ 实例过滤正常工作（Core 用户默认只看 Core + Both）
7. ✅ 响应式设计（适配不同屏幕尺寸）

### 可选项

- [ ] 依赖关系可视化图（使用 React Flow）
- [ ] 数据导出功能（CSV/JSON）
- [ ] Feature 状态修改（需要后端支持）

## 技术债务

- 数据目前硬编码在 `features-data.ts`
- 未来可以从后端 API 获取（`/api/features`）
- 未来可以支持实时编辑和状态更新

## 里程碑

- M1: 数据层 + 基础页面框架（本次）
- M2: 依赖关系可视化图
- M3: 后端 API 集成 + 实时更新

## 参考

- FEATURES.md v2.0.0
- Core 实例现有页面设计风格
- Recharts 文档
- React Flow 文档（可选）
