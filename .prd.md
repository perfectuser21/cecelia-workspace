---
id: prd-standardized-prd-trd-generation
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

# PRD - 自动生成标准化 PRD/TRD

## 需求来源

TRD Milestone 1: "自动生成标准化 PRD/TRD"

当前 `apps/core/src/brain/intent.js` 中的 `generatePrdDraft()` 生成简化版 PRD，需要增强为标准化模板系统，支持 PRD 和 TRD 两种文档类型。

## 功能描述

增强文档生成能力，支持标准化的 PRD 和 TRD 模板：

1. **PRD 标准模板**：包含完整的 PRD 结构（背景、目标、功能描述、验收标准、里程碑等）
2. **TRD 标准模板**：技术需求文档，包含技术方案、架构设计、API 设计、数据模型等
3. **模板配置系统**：支持自定义模板字段和格式
4. **智能填充**：根据 intent 解析结果自动填充模板字段

## 涉及文件

- apps/core/src/brain/intent.js（修改 - 增强文档生成）
- apps/core/src/brain/templates.js（新建 - 模板定义）
- apps/core/src/brain/__tests__/templates.test.js（新建 - 模板测试）
- apps/core/src/brain/__tests__/intent.test.js（修改 - 增加生成测试）

## 成功标准

- [ ] 创建 PRD 标准模板，包含：背景、目标、功能需求、非功能需求、验收标准、里程碑
- [ ] 创建 TRD 标准模板，包含：技术背景、架构设计、API 设计、数据模型、测试策略
- [ ] `generatePrdDraft()` 使用新模板系统生成标准化 PRD
- [ ] 新增 `generateTrdDraft()` 函数生成标准化 TRD
- [ ] 模板支持 frontmatter（id, version, created, updated）
- [ ] 所有现有测试通过
- [ ] 新功能有对应测试覆盖
