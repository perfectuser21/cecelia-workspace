---
id: autumnrice-frontend-integration
version: 1.0.0
created: 2026-01-30
---

# PRD: 前端连接 Autumnrice API

## 背景

秋米（Autumnrice）后端 API 已经完成：
- `POST /autumnrice/run` - 一键启动 R-cell 执行
- `GET /autumnrice/run/{trd_id}` - 查询执行进度
- `GET /autumnrice/seats` - 获取执行槽位状态
- `GET /autumnrice/resources` - 获取系统资源

但是前端 OrchestratorPage 没有连接这些 API，依然使用旧的 watchdog API。

## 目标

1. 添加 proxy 路由：`/api/autumnrice/*` → Brain `/autumnrice/*`
2. 修改 OrchestratorPage 使用 Autumnrice API：
   - 从 `/api/autumnrice/seats` 获取 Seat 状态（替代 watchdog）
   - 显示真实的 max_seats、active_seats
3. （可选）在 Chat 中支持调用 `/api/autumnrice/run`

## 改动文件

| 文件 | 改动 |
|------|------|
| `apps/core/src/dashboard/server.ts` | 添加 autumnrice proxy |
| `apps/core/features/orchestrator/pages/OrchestratorPage.tsx` | 调用 autumnrice API |

## 成功标准

1. 访问 https://dev-core.zenjoymedia.media/orchestrator
2. 看到真实的 Seat 状态（从 Brain API 获取）
3. Seats 显示动态计算的 max_seats（基于内存/CPU）
