# PRD - KR1 意图识别 - 自然语言→OKR/Project/Task

**需求来源**: Brain 自动调度任务,提升 KR1 进度(当前 0%)

**功能描述**:
实现自然语言意图识别系统,将用户的自然语言输入解析为结构化的 OKR/Project/Task 操作。例如:
- "我想做一个用户登录功能" → 创建 Project + Tasks
- "完成 Q1 的用户增长目标" → 创建 Goal (Objective) + Key Results
- "优化首页加载速度" → 识别为 Task,关联到对应 Project

核心能力:
1. 意图分类:判断用户想创建 Goal/Project/Task 中的哪一种
2. 实体提取:从自然语言中提取标题、描述、优先级等字段
3. 关联推断:根据上下文推断 Project 归属、Goal 关联等
4. API 调用:调用 Brain API 的 action 端点创建对应实体

**涉及文件**:
- `/apps/core/src/brain/intent.js` - 意图解析服务(NLP 逻辑,增强现有 intent.js)
- `/apps/core/src/brain/__tests__/intent.test.js` - 单元测试(增强现有测试)

**成功标准**:
1. API 端点 `POST /api/brain/intent/parse` 可以接收自然语言输入并返回意图分类结果
2. 能正确识别至少 3 种意图类型:CREATE_GOAL, CREATE_PROJECT, CREATE_TASK
3. 能从自然语言中提取实体字段:title, description, priority
4. 对于明确的输入(如"创建项目:用户登录"),准确率达到 90%
5. 有完整的单元测试覆盖意图分类和实体提取逻辑

**非目标**:
- 不做复杂的 NLP 模型训练(使用规则 + 关键词匹配即可)
- 不做多轮对话(单次输入即返回结果)
- 不做模糊意图的智能推荐(用户输入不明确时返回错误)
- 不做前端界面(仅后端 API)
