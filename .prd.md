---
id: prd-okr-dashboard
version: 1.0.0
created: 2026-01-28
---

# PRD: OKR Dashboard 前端

## 目标
在 Dashboard 中添加 OKR Tree 可视化页面，展示目标进度和今日焦点。

## 依赖
- PRD 01-04 全部完成

## 功能需求

### 1. 新页面：/okr

路由：`apps/dashboard/frontend/src/pages/OKRPage.tsx`

### 2. 页面布局

```
┌─────────────────────────────────────────────────────────┐
│  今日焦点                                                │
│  ┌─────────────────────────────────────────────────────┐│
│  │ 🎯 Cecelia Brain v1 发布                      [80%] ││
│  │    ├── KR1: 能自动运行 tick              ✅ 100%    ││
│  │    ├── KR2: 能自动处理任务               🔄  60%    ││
│  │    ├── KR3: 能自动生成每日计划           ⏳  0%     ││
│  │    └── KR4: 能自动复盘                   ⏳  0%     ││
│  └─────────────────────────────────────────────────────┘│
├─────────────────────────────────────────────────────────┤
│  所有 OKR                                                │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐     │
│  │ Brain v1     │ │ AI Factory   │ │ 内容体系     │     │
│  │ P0 | 80%    │ │ P1 | 20%    │ │ P2 | 10%    │     │
│  │ 4 KRs       │ │ 3 KRs       │ │ 5 KRs       │     │
│  └──────────────┘ └──────────────┘ └──────────────┘     │
└─────────────────────────────────────────────────────────┘
```

### 3. 组件

#### OKRCard
显示单个 Objective 卡片
- 标题、进度条、优先级标签
- 点击展开 KR 列表

#### OKRTree
树形展示 O → KR 结构
- 可折叠/展开
- 进度条动画

#### FocusPanel
今日焦点面板
- 高亮显示当前焦点
- 显示选择原因
- 手动切换按钮

### 4. API 调用

```typescript
// 获取所有 OKR 树
const { data: trees } = useQuery(['okr-trees'], () =>
  fetch('/api/okr/trees').then(r => r.json())
);

// 获取今日焦点
const { data: focus } = useQuery(['daily-focus'], () =>
  fetch('/api/brain/focus').then(r => r.json())
);
```

### 5. 导航集成

在侧边栏添加 "OKR" 入口，图标用 🎯

## 验收标准
- [ ] /okr 页面可访问
- [ ] 显示所有 OKR 树
- [ ] 显示今日焦点
- [ ] 进度条正确显示
- [ ] 响应式布局
