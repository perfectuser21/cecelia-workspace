---
id: prd-intent-parse-enhancement
version: 2.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 2.0.0: 重写为 Milestone 1 KR1 意图识别系统
  - 1.0.0: 初始版本
---

## PRD - 增强 /api/brain/intent/parse 端点

**需求来源**: Milestone 1: 意图识别系统 (KR1)

**功能描述**:
增强现有的 `/api/brain/intent/parse` 端点和意图分类器：
1. 补全缺失的意图类型（CREATE_GOAL、CREATE_TASK、QUERY_STATUS）
2. 返回结构化意图（goal/project/task）
3. 实现意图到 brain action 的映射

**现状**:
- `/api/brain/intent/parse` 端点已存在，调用 `parseIntent()` 返回解析结果
- `intent.js` 有 7 种意图类型但缺少 CREATE_GOAL、CREATE_TASK、QUERY_STATUS
- 没有意图到 brain action 的映射逻辑

**涉及文件**:
- `apps/core/src/brain/intent.js`（修改：添加新意图类型 + 关键词 + 短语 + action 映射）
- `apps/core/src/brain/routes.js`（修改：增强 intent/parse 响应 + 添加 intent/execute）

**成功标准**:
- [ ] intent/parse 能识别 "创建一个 P0 目标" → CREATE_GOAL
- [ ] intent/parse 能识别 "添加一个任务" → CREATE_TASK
- [ ] intent/parse 能识别 "当前有哪些任务" → QUERY_STATUS
- [ ] 返回 suggestedAction 字段，映射到 brain action
- [ ] 现有意图类型向后兼容
