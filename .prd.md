---
id: prd-model-profile-ui
version: 1.0.0
created: 2026-02-22
updated: 2026-02-22
changelog:
  - 1.0.0: 初始版本
---

# PRD: 模型 Profile 切换器 UI

## 功能描述

在 Cecelia Dashboard 中添加模型 Profile 切换器，让用户可以一键切换 Brain 的 LLM 配置（MiniMax 主力 ↔ Anthropic 主力），无需重启服务。

## 后端 API（已就绪，Core v1.74.0）

| 端点 | 方法 | 说明 |
|------|------|------|
| `/api/brain/model-profiles` | GET | 列出所有 Profile |
| `/api/brain/model-profiles/active` | GET | 获取当前激活的 Profile |
| `/api/brain/model-profiles/active` | PUT | 切换 Profile（body: `{profile_id: "profile-minimax"}` 或 `"profile-anthropic"`） |

**WebSocket 事件**: `profile:changed`（切换时广播，payload: `{profile_id, profile_name}`）

### API 响应示例

```json
// GET /api/brain/model-profiles
{
  "success": true,
  "profiles": [
    {
      "id": "profile-minimax",
      "name": "MiniMax 主力",
      "is_active": true,
      "config": {
        "thalamus": { "provider": "minimax", "model": "MiniMax-M2.1" },
        "cortex": { "provider": "anthropic", "model": "claude-opus-4-20250514" },
        "executor": { "default_provider": "minimax", ... }
      }
    },
    {
      "id": "profile-anthropic",
      "name": "Anthropic 主力",
      "is_active": false,
      "config": {
        "thalamus": { "provider": "anthropic", "model": "claude-haiku-4-5-20251001" },
        "cortex": { "provider": "anthropic", "model": "claude-opus-4-20250514" },
        "executor": { "default_provider": "anthropic", ... }
      }
    }
  ]
}
```

## UI 需求

### 放置位置

在现有的 Dashboard / 系统设置 / 或顶部导航栏中，找合适位置添加 Profile 切换器。

### 交互方式

1. 显示当前激活的 Profile 名称
2. 点击展开选择其他 Profile
3. 切换时调用 `PUT /api/brain/model-profiles/active`
4. 成功后显示 toast/通知
5. 监听 WebSocket `profile:changed` 事件实时更新（其他标签页同步）

### 展示信息

每个 Profile 卡片/选项需显示：
- Profile 名称（MiniMax 主力 / Anthropic 主力）
- 三层模型配置摘要：
  - L1 丘脑: MiniMax M2.1 或 Haiku
  - L2 皮层: Opus
  - 执行层: MiniMax M2.5 或 Sonnet

## 成功标准

- 页面加载时显示当前激活的 Profile
- 可以切换到另一个 Profile，切换后 UI 立即更新
- WebSocket 事件触发时其他标签页同步更新
- 切换失败时显示错误信息

## Brain API 地址

- 开发环境: `http://localhost:5221`
- 生产环境: 通过环境变量 `VITE_BRAIN_API_URL` 或相对路径
