## PRD - TaskDatabase Notion 风格预设视图

**需求来源**: 用户需要在 TaskDatabase 中快速看到 Brain 下一步要做什么，哪些任务属于哪个 project，如何调整优先级。需要 Notion Database 风格的预设视图标签页。

**功能描述**:
在现有 TaskDatabase 基础上添加以下功能：
1. **预设视图标签页**：Today, Tomorrow, Next 7 days, Next 30 days, Pending, In Progress, Completed, All
   - 本质是预配置的过滤器，点击切换不同视图
   - 每个视图根据 created_at 或 status 过滤任务
2. **分页优化**：
   - 默认分页从 10 改为 20
   - 添加 100/页选项（现有 10/20/50）
3. **保持现有功能**：
   - Table/Board 视图切换
   - 拖拽排序
   - 内联编辑 Priority/Status
   - Group By 功能

**涉及文件**:
- `apps/core/features/planning/pages/TaskDatabase.tsx` - 主要修改文件
  - 添加 PresetView 类型和视图配置
  - 添加视图标签页 UI
  - 实现过滤逻辑
  - 修改默认分页值

**成功标准**:
1. 页面顶部显示 8 个预设视图标签（Today, Tomorrow, Next 7 days, Next 30 days, Pending, In Progress, Completed, All）
2. 点击标签切换视图，任务列表相应过滤
3. 默认分页为 20/页
4. 分页选择器包含 10/20/50/100 选项
5. 现有功能（拖拽、编辑、分组、看板）正常工作
6. Build 通过，无 TypeScript 错误

**非目标**:
- 不做 Calendar 视图（需要 due_date 字段，后端未支持）
- 不做复杂过滤器 UI（多条件组合）
- 不修改后端 API
- 不添加新依赖包

**技术方案**:
```tsx
// 预设视图配置
type PresetView = 'all' | 'today' | 'tomorrow' | 'next7' | 'next30' | 'pending' | 'in_progress' | 'completed';

const PRESET_VIEWS: Array<{ key: PresetView; label: string; filter: (task: Task) => boolean }> = [
  { key: 'all', label: 'All', filter: () => true },
  { key: 'today', label: 'Today', filter: (t) => isToday(new Date(t.created_at)) },
  { key: 'tomorrow', label: 'Tomorrow', filter: (t) => isTomorrow(new Date(t.created_at)) },
  { key: 'next7', label: 'Next 7 days', filter: (t) => isWithinDays(new Date(t.created_at), 7) },
  { key: 'next30', label: 'Next 30 days', filter: (t) => isWithinDays(new Date(t.created_at), 30) },
  { key: 'pending', label: 'Pending', filter: (t) => t.status === 'queued' },
  { key: 'in_progress', label: 'In Progress', filter: (t) => t.status === 'in_progress' },
  { key: 'completed', label: 'Completed', filter: (t) => t.status === 'completed' },
];

// 日期判断辅助函数
function isToday(date: Date): boolean {
  const today = new Date();
  return date.toDateString() === today.toDateString();
}

function isTomorrow(date: Date): boolean {
  const tomorrow = new Date();
  tomorrow.setDate(tomorrow.getDate() + 1);
  return date.toDateString() === tomorrow.toDateString();
}

function isWithinDays(date: Date, days: number): boolean {
  const now = new Date();
  const future = new Date();
  future.setDate(future.getDate() + days);
  return date >= now && date <= future;
}
```

**UI 布局**:
```
┌─────────────────────────────────────────────────────────┐
│ TaskDatabase                                             │
├─────────────────────────────────────────────────────────┤
│ [All] [Today] [Tomorrow] [Next 7] [Next 30]             │
│ [Pending] [In Progress] [Completed]                     │
├─────────────────────────────────────────────────────────┤
│ View: [Table ▼] | Group: [None ▼] | Sort: [Created ▼]  │
├─────────────────────────────────────────────────────────┤
│ Task List (filtered by active preset view)              │
└─────────────────────────────────────────────────────────┘
```
