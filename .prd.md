---
id: prd-generate-prd-endpoint
version: 1.0.0
created: 2026-01-31
updated: 2026-01-31
changelog:
  - 1.0.0: 初始版本
---

## PRD - /api/brain/generate/prd 端点

**需求来源**: Milestone 2: PRD/TRD 自动生成 (KR2) - 实现 /api/brain/generate/prd 端点

**功能描述**:
- 添加 `POST /api/brain/generate/prd` 端点到 brain routes
- 接收任务描述（title, description, type）作为输入
- 支持 feature/bugfix/refactor 三种 PRD 类型
- 调用已有的 `templates.js` 中的 `renderPrd()` 生成 PRD markdown
- 返回生成的 PRD 内容和元数据

**涉及文件**:
- `apps/core/src/brain/routes.js`（修改 - 添加 generate/prd 路由）
- `apps/core/src/brain/templates.js`（修改 - 增强 renderPrd 支持 type 参数）

**成功标准**:
- [ ] POST /api/brain/generate/prd 端点可用
- [ ] 支持 feature/bugfix/refactor 三种类型
- [ ] 输入 title + description 返回完整 PRD markdown
- [ ] 参数校验：title 必填，type 可选（默认 feature）
- [ ] 返回格式包含 prd（markdown 内容）和 metadata
