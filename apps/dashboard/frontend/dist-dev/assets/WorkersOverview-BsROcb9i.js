import{r as i,j as e,R as h,U as m,aj as A,Z as j,ai as u,z as f}from"./index-ESCoPjhb.js";import{w as D}from"./workers.api-D8BZlwlE.js";const E={Code:({className:s})=>e.jsx("span",{className:s,children:"ðŸ’»"}),Zap:j,RefreshCw:h,Diamond:({className:s})=>e.jsx("span",{className:s,children:"ðŸ’Ž"}),Monitor:({className:s})=>e.jsx("span",{className:s,children:"ðŸ–¥ï¸"}),Video:({className:s})=>e.jsx("span",{className:s,children:"ðŸ“¹"}),BarChart3:({className:s})=>e.jsx("span",{className:s,children:"ðŸ“Š"}),Wrench:({className:s})=>e.jsx("span",{className:s,children:"ðŸ”§"}),Server:({className:s})=>e.jsx("span",{className:s,children:"ðŸ–¥ï¸"}),Plug:({className:s})=>e.jsx("span",{className:s,children:"ðŸ”Œ"}),Link:({className:s})=>e.jsx("span",{className:s,children:"ðŸ”—"})};function b(s){return E[s]||m}function L(){const[s,c]=i.useState([]),[x,o]=i.useState(!0),[l,r]=i.useState(null),[w,p]=i.useState(new Set),[v,y]=i.useState(new Set),[g,S]=i.useState({totalWorkers:0,totalAbilities:0}),N=async()=>{try{const t=await D.getAll();t.success&&(c(t.data.departments),S({totalWorkers:t.data.totalWorkers,totalAbilities:t.data.totalAbilities}),p(new Set(t.data.departments.map(n=>n.id)))),r(null)}catch(t){r(t.message)}finally{o(!1)}};i.useEffect(()=>{N()},[]);const W=t=>{p(n=>{const a=new Set(n);return a.has(t)?a.delete(t):a.add(t),a})},C=t=>{y(n=>{const a=new Set(n);return a.has(t)?a.delete(t):a.add(t),a})};return x?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-blue-500"})}):l?e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:e.jsxs("p",{className:"text-red-400",children:["åŠ è½½å¤±è´¥: ",l]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(m,{className:"w-7 h-7"}),"AI å‘˜å·¥"]}),e.jsx("p",{className:"text-gray-400 mt-1",children:"ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ AI å‘˜å·¥å’Œå·¥ä½œæµèƒ½åŠ›"})]}),e.jsx("button",{onClick:N,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:e.jsx(h,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:"éƒ¨é—¨"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mt-1",children:s.length})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:"å‘˜å·¥"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mt-1",children:g.totalWorkers})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:"èƒ½åŠ›"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mt-1",children:g.totalAbilities})]})]}),e.jsx("div",{className:"space-y-4",children:s.map(t=>{const n=b(t.icon),a=w.has(t.id);return e.jsxs("div",{className:"bg-white/5 rounded-lg border border-white/10 overflow-hidden",children:[e.jsxs("button",{onClick:()=>W(t.id),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-medium text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400",children:t.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[t.workers.length," äºº"]}),a?e.jsx(u,{className:"w-5 h-5 text-gray-400"}):e.jsx(f,{className:"w-5 h-5 text-gray-400"})]})]}),a&&e.jsx("div",{className:"border-t border-white/10",children:t.workers.map(d=>e.jsx(R,{worker:d,expanded:v.has(d.id),onToggle:()=>C(d.id)},d.id))})]},t.id)})})]})}function R({worker:s,expanded:c,onToggle:x}){const o=b(s.icon);return e.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[e.jsxs("button",{onClick:x,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${s.gradient.from} ${s.gradient.to} flex items-center justify-center`,children:e.jsx(o,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-white",children:s.name}),s.alias&&e.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.alias,")"]}),s.status==="planned"&&e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"è§„åˆ’ä¸­"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:s.role})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[s.abilities.length," ä¸ªèƒ½åŠ›"]}),c?e.jsx(u,{className:"w-4 h-4 text-gray-400"}):e.jsx(f,{className:"w-4 h-4 text-gray-400"})]})]}),c&&e.jsxs("div",{className:"px-4 pb-3 pl-16",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:s.description}),e.jsx("div",{className:"space-y-2",children:s.abilities.map(l=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{className:"text-white",children:l.name})]}),e.jsx("p",{className:"text-gray-500 text-xs mt-1 ml-5",children:l.description}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 ml-5",children:[l.n8nKeywords.slice(0,3).map(r=>e.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded",children:r},r)),l.n8nKeywords.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",l.n8nKeywords.length-3]})]})]},l.id))})]})]})}export{L as default};
