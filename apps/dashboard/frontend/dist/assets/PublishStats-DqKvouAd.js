import{a0 as y,r as I,j as t,m as fe,a5 as me,B as ye,R as ge,f as be,d as ve,_ as je,e as ke}from"./index-DNFMCH88.js";import{p as we}from"./publish.api-D33NbTu_.js";import{i as Ae,c as ee,D as Ne,f as Se,E as Pe,L as X,a as W,C as Oe,A as Ce,b as F,d as De,e as H,h as Ee,g as _e,j as oe,u as Le,G as Te,k as te,l as le,m as ce,B as J,R as Y,n as Re,T as q,o as re}from"./generateCategoricalChart-C38VQqK_.js";import{P as Be,a as Fe}from"./PieChart-CEL-YScS.js";import{X as M,Y as U,C as ae}from"./YAxis-CZ4tRoU9.js";import"./client-DyfwnZmM.js";import"./index-B9ygI19o.js";import"./tiny-invariant-BaFNuDhB.js";var Ie=["type","layout","connectNulls","ref"],$e=["key"];function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},C(e)}function ie(e,i){if(e==null)return{};var a=Ke(e,i),r,n;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(n=0;n<d.length;n++)r=d[n],!(i.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ke(e,i){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(i.indexOf(r)>=0)continue;a[r]=e[r]}return a}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$.apply(this,arguments)}function se(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function v(e){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?se(Object(a),!0).forEach(function(r){j(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function O(e){return Ue(e)||Me(e)||We(e)||ze()}function ze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(e,i){if(e){if(typeof e=="string")return Q(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(e,i)}}function Me(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ue(e){if(Array.isArray(e))return Q(e)}function Q(e,i){(i==null||i>e.length)&&(i=e.length);for(var a=0,r=new Array(i);a<i;a++)r[a]=e[a];return r}function Ve(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function ne(e,i){for(var a=0;a<i.length;a++){var r=i[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ue(r.key),r)}}function Ge(e,i,a){return i&&ne(e.prototype,i),a&&ne(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xe(e,i,a){return i=V(i),Ye(e,de()?Reflect.construct(i,a||[],V(e).constructor):i.apply(e,a))}function Ye(e,i){if(i&&(C(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qe(e)}function qe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(de=function(){return!!e})()}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},V(e)}function He(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),i&&Z(e,i)}function Z(e,i){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Z(e,i)}function j(e,i,a){return i=ue(i),i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}function ue(e){var i=Je(e,"string");return C(i)=="symbol"?i:i+""}function Je(e,i){if(C(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,i);if(C(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D=function(e){function i(){var a;Ve(this,i);for(var r=arguments.length,n=new Array(r),d=0;d<r;d++)n[d]=arguments[d];return a=Xe(this,i,[].concat(n)),j(a,"state",{isAnimationFinished:!0,totalLength:0}),j(a,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),j(a,"getStrokeDasharray",function(o,l,u){var x=u.reduce(function(k,A){return k+A});if(!x)return a.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/x),p=o%x,h=l-o,f=[],s=0,c=0;s<u.length;c+=u[s],++s)if(c+u[s]>p){f=[].concat(O(u.slice(0,s)),[p-c]);break}var g=f.length%2===0?[0,h]:[h];return[].concat(O(i.repeat(u,m)),O(f),g).map(function(k){return"".concat(k,"px")}).join(", ")}),j(a,"id",Le("recharts-line-")),j(a,"pathRef",function(o){a.mainCurve=o}),j(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),j(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}return He(i,e),Ge(i,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var d=this.props,o=d.points,l=d.xAxis,u=d.yAxis,x=d.layout,m=d.children,p=Se(m,Pe);if(!p)return null;var h=function(c,g){return{x:c.x,y:c.y,value:c.value,errorVal:oe(c.payload,g)}},f={clipPath:r?"url(#clipPath-".concat(n,")"):null};return y.createElement(X,f,p.map(function(s){return y.cloneElement(s,{key:"bar-".concat(s.props.dataKey),data:o,xAxis:l,yAxis:u,layout:x,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,n,d){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,x=l.points,m=l.dataKey,p=W(this.props,!1),h=W(u,!0),f=x.map(function(c,g){var k=v(v(v({key:"dot-".concat(g),r:3},p),h),{},{index:g,cx:c.x,cy:c.y,value:c.value,dataKey:m,payload:c.payload,points:x});return i.renderDotItem(u,k)}),s={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(d,")"):null};return y.createElement(X,$({className:"recharts-line-dots",key:"dots"},s),f)}},{key:"renderCurveStatically",value:function(r,n,d,o){var l=this.props,u=l.type,x=l.layout,m=l.connectNulls;l.ref;var p=ie(l,Ie),h=v(v(v({},W(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(d,")"):null,points:r},o),{},{type:u,layout:x,connectNulls:m});return y.createElement(Oe,$({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,n){var d=this,o=this.props,l=o.points,u=o.strokeDasharray,x=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,h=o.animationEasing,f=o.animationId,s=o.animateNewValues,c=o.width,g=o.height,k=this.state,A=k.prevPoints,E=k.totalLength;return y.createElement(Ce,{begin:m,duration:p,isActive:x,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(A){var _=A.length/l.length,N=l.map(function(b,G){var R=Math.floor(G*_);if(A[R]){var B=A[R],P=F(B.x,b.x),he=F(B.y,b.y);return v(v({},b),{},{x:P(w),y:he(w)})}if(s){var xe=F(c*2,b.x),pe=F(g/2,b.y);return v(v({},b),{},{x:xe(w),y:pe(w)})}return v(v({},b),{},{x:b.x,y:b.y})});return d.renderCurveStatically(N,r,n)}var K=F(0,E),L=K(w),T;if(u){var z="".concat(u).split(/[,\s]+/gim).map(function(b){return parseFloat(b)});T=d.getStrokeDasharray(L,E,z)}else T=d.generateSimpleStrokeDasharray(E,L);return d.renderCurveStatically(l,r,n,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,n){var d=this.props,o=d.points,l=d.isAnimationActive,u=this.state,x=u.prevPoints,m=u.totalLength;return l&&o&&o.length&&(!x&&m>0||!De(x,o))?this.renderCurveWithAnimation(r,n):this.renderCurveStatically(o,r,n)}},{key:"render",value:function(){var r,n=this.props,d=n.hide,o=n.dot,l=n.points,u=n.className,x=n.xAxis,m=n.yAxis,p=n.top,h=n.left,f=n.width,s=n.height,c=n.isAnimationActive,g=n.id;if(d||!l||!l.length)return null;var k=this.state.isAnimationFinished,A=l.length===1,E=ee("recharts-line",u),S=x&&x.allowDataOverflow,w=m&&m.allowDataOverflow,_=S||w,N=H(g)?this.id:g,K=(r=W(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=K.r,T=L===void 0?3:L,z=K.strokeWidth,b=z===void 0?2:z,G=Ee(o)?o:{},R=G.clipDot,B=R===void 0?!0:R,P=T*2+b;return y.createElement(X,{className:E},S||w?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(N)},y.createElement("rect",{x:S?h:h-f/2,y:w?p:p-s/2,width:S?f:f*2,height:w?s:s*2})),!B&&y.createElement("clipPath",{id:"clipPath-dots-".concat(N)},y.createElement("rect",{x:h-P/2,y:p-P/2,width:f+P,height:s+P}))):null,!A&&this.renderCurve(_,N),this.renderErrorBar(_,N),(A||o)&&this.renderDots(_,B,N),(!c||k)&&_e.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,n){for(var d=r.length%2!==0?[].concat(O(r),[0]):r,o=[],l=0;l<n;++l)o=[].concat(O(o),O(d));return o}},{key:"renderDotItem",value:function(r,n){var d;if(y.isValidElement(r))d=y.cloneElement(r,n);else if(Ae(r))d=r(n);else{var o=n.key,l=ie(n,$e),u=ee("recharts-line-dot",typeof r!="boolean"?r.className:"");d=y.createElement(Ne,$({key:o},l,{className:u}))}return d}}])}(I.PureComponent);j(D,"displayName","Line");j(D,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Te.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});j(D,"getComposedData",function(e){var i=e.props,a=e.xAxis,r=e.yAxis,n=e.xAxisTicks,d=e.yAxisTicks,o=e.dataKey,l=e.bandSize,u=e.displayedData,x=e.offset,m=i.layout,p=u.map(function(h,f){var s=oe(h,o);return m==="horizontal"?{x:te({axis:a,ticks:n,bandSize:l,entry:h,index:f}),y:H(s)?null:r.scale(s),value:s,payload:h}:{x:H(s)?null:a.scale(s),y:te({axis:r,ticks:d,bandSize:l,entry:h,index:f}),value:s,payload:h}});return v({points:p,layout:m},x)});var Qe=le({chartName:"LineChart",GraphicalChild:D,axisComponents:[{axisType:"xAxis",AxisComp:M},{axisType:"yAxis",AxisComp:U}],formatAxisMap:ce}),Ze=le({chartName:"BarChart",GraphicalChild:J,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:M},{axisType:"yAxis",AxisComp:U}],formatAxisMap:ce});const et={draft:"#94a3b8",pending:"#fbbf24",processing:"#60a5fa",completed:"#34d399",failed:"#f87171",partial:"#fb923c"},tt={draft:"草稿",pending:"待发布",processing:"发布中",completed:"成功",failed:"失败",partial:"部分成功"},rt={douyin:"抖音",kuaishou:"快手",xiaohongshu:"小红书",toutiao:"头条",weibo:"微博",videoNumber:"视频号",wechat:"公众号",zhihu:"知乎",website:"官网"};function ut(){const[e,i]=I.useState(null),[a,r]=I.useState(!0),[n,d]=I.useState(null),o=async()=>{r(!0),d(null);try{const s=await we.getStats();i(s)}catch(s){d(s instanceof Error?s.message:"加载统计数据失败")}finally{r(!1)}};if(I.useEffect(()=>{o()},[]),a&&!e)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx(fe,{className:"w-8 h-8 animate-spin text-blue-500"})});if(n)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[t.jsx(me,{className:"w-12 h-12 text-red-500 dark:text-red-400 mb-4"}),t.jsx("p",{className:"text-red-600 dark:text-red-400 mb-3",children:n}),t.jsx("button",{onClick:o,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 shadow-lg shadow-blue-500/25",children:"重试"})]});if(!e)return null;const l=e.total-(e.byStatus.draft||0),u=e.byStatus.completed||0,x=(e.byStatus.failed||0)+(e.byStatus.partial||0),m=l>0?(u/l*100).toFixed(1):"0.0",p=Object.entries(e.byStatus).filter(([s])=>s!=="draft").map(([s,c])=>({name:tt[s]||s,value:c,color:et[s]||"#94a3b8"})),h=Object.entries(e.byPlatform).map(([s,c])=>({platform:rt[s]||s,total:c.total,success:c.success,failed:c.failed,successRate:c.total>0?(c.success/c.total*100).toFixed(1):"0"})).sort((s,c)=>c.total-s.total),f=e.recentTrend.map(s=>({date:new Date(s.date).toLocaleDateString("zh-CN",{month:"numeric",day:"numeric"}),success:s.success,failed:s.failed}));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-purple-500/25",children:t.jsx(ye,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"发布统计"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"多平台发布数据分析"})]})]}),t.jsx("button",{onClick:o,disabled:a,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-xl transition-colors",children:t.jsx(ge,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 p-5",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/25",children:t.jsx(be,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"总发布数"})]}),t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l}),t.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["草稿 ",e.byStatus.draft||0," 个"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 p-5",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg shadow-green-500/25",children:t.jsx(ve,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"成功数"})]}),t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u}),t.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"全部成功完成"})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 p-5",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center shadow-lg shadow-red-500/25",children:t.jsx(je,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"失败数"})]}),t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x}),t.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"部分或全部失败"})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 p-5",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg shadow-purple-500/25",children:t.jsx(ke,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"成功率"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[m,"%"]}),t.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"全部完成的比例"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"按状态分布"}),p.length===0?t.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 dark:text-gray-500",children:"暂无数据"}):t.jsx(Y,{width:"100%",height:300,children:t.jsxs(Be,{children:[t.jsx(Fe,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:c})=>`${s} ${(c*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:p.map((s,c)=>t.jsx(Re,{fill:s.color},`cell-${c}`))}),t.jsx(q,{})]})})]}),t.jsxs("div",{className:"col-span-2 bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"按平台统计"}),h.length===0?t.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 dark:text-gray-500",children:"暂无数据"}):t.jsx(Y,{width:"100%",height:300,children:t.jsxs(Ze,{data:h,children:[t.jsx(ae,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),t.jsx(M,{dataKey:"platform",stroke:"#94a3b8",style:{fontSize:"12px"}}),t.jsx(U,{stroke:"#94a3b8",style:{fontSize:"12px"}}),t.jsx(q,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px",color:"#fff"},formatter:(s,c)=>[s,{total:"总数",success:"成功",failed:"失败"}[c]||c]}),t.jsx(re,{formatter:s=>({total:"总数",success:"成功",failed:"失败"})[s]||s}),t.jsx(J,{dataKey:"success",fill:"#34d399",radius:[4,4,0,0]}),t.jsx(J,{dataKey:"failed",fill:"#f87171",radius:[4,4,0,0]})]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"平台详情"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"平台"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"发布总数"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"成功数"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"失败数"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"成功率"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:h.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 dark:text-gray-500",children:"暂无数据"})}):h.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:s.platform}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right",children:s.total}),t.jsx("td",{className:"px-6 py-4 text-sm text-green-600 dark:text-green-400 text-right",children:s.success}),t.jsx("td",{className:"px-6 py-4 text-sm text-red-600 dark:text-red-400 text-right",children:s.failed}),t.jsx("td",{className:"px-6 py-4 text-sm text-right",children:t.jsxs("span",{className:`inline-flex px-2.5 py-1 rounded-lg text-xs font-medium ${parseFloat(s.successRate)>=80?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":parseFloat(s.successRate)>=50?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[s.successRate,"%"]})})]},s.platform))})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"最近7天趋势"}),f.length===0?t.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 dark:text-gray-500",children:"暂无数据"}):t.jsx(Y,{width:"100%",height:300,children:t.jsxs(Qe,{data:f,children:[t.jsx(ae,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),t.jsx(M,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"}}),t.jsx(U,{stroke:"#94a3b8",style:{fontSize:"12px"}}),t.jsx(q,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px",color:"#fff"},formatter:(s,c)=>[s,{success:"成功",failed:"失败"}[c]||c]}),t.jsx(re,{formatter:s=>({success:"成功",failed:"失败"})[s]||s}),t.jsx(D,{type:"monotone",dataKey:"success",stroke:"#34d399",strokeWidth:2,dot:{fill:"#34d399",r:4},activeDot:{r:6}}),t.jsx(D,{type:"monotone",dataKey:"failed",stroke:"#f87171",strokeWidth:2,dot:{fill:"#f87171",r:4},activeDot:{r:6}})]})})]})]})}export{ut as default};
