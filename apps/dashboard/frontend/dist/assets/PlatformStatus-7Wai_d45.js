import{r as d,j as e,R as b,A as w,a7 as j,$ as x,_ as C,a8 as U,K as $,Z as S,a5 as y}from"./index-DNFMCH88.js";import{p as A}from"./publish.api-D33NbTu_.js";import"./client-DyfwnZmM.js";import"./index-B9ygI19o.js";const o={xhs:{displayName:"å°çº¢ä¹¦",icon:"ğŸ“•",color:"text-red-500",bgColor:"bg-red-50 dark:bg-red-900/20",n8nConnected:!0,dashboardUrl:"https://creator.xiaohongshu.com"},weibo:{displayName:"å¾®åš",icon:"ğŸŸ ",color:"text-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",n8nConnected:!0,dashboardUrl:"https://weibo.com"},douyin:{displayName:"æŠ–éŸ³",icon:"ğŸµ",color:"text-slate-900 dark:text-white",bgColor:"bg-slate-100 dark:bg-slate-700",n8nConnected:!0,dashboardUrl:"https://creator.douyin.com"},website:{displayName:"ZenithJoyAI",icon:"ğŸŒ",color:"text-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",n8nConnected:!0,dashboardUrl:"https://zenithjoyai.com"},x:{displayName:"X (Twitter)",icon:"ğ•",color:"text-slate-900 dark:text-white",bgColor:"bg-slate-100 dark:bg-slate-700",n8nConnected:!1,dashboardUrl:"https://x.com"}};function L(){const[a,f]=d.useState(null),[u,p]=d.useState(!0),[m,h]=d.useState(!1),[g,N]=d.useState(null),n=async(s=!1)=>{s&&h(!0);try{const t=await A.getStats();f(t),N(new Date)}catch(t){console.error("Failed to fetch stats:",t)}finally{p(!1),h(!1)}};d.useEffect(()=>{n();const s=setInterval(()=>n(),3e4);return()=>clearInterval(s)},[]);const k=s=>{const t=a==null?void 0:a.byPlatform[s];return!t||t.total===0?0:Math.round(t.success/t.total*100)},v=s=>s>=80?"text-green-500":s>=50?"text-yellow-500":"text-red-500",c=Object.keys(o);return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(b,{className:"w-8 h-8 animate-spin text-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"å¹³å°çŠ¶æ€ç®¡ç†"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"æŸ¥çœ‹å„å‘å¸ƒå¹³å°çš„è¿æ¥çŠ¶æ€å’Œå‘å¸ƒæ•°æ®"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[g&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["æ›´æ–°äº ",g.toLocaleTimeString()]}),e.jsxs("button",{onClick:()=>n(!0),disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[e.jsx(b,{className:`w-4 h-4 ${m?"animate-spin":""}`}),"åˆ·æ–°"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"æ€»å‘å¸ƒæ•°"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:(a==null?void 0:a.total)||0})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 text-blue-500"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"å·²è¿æ¥å¹³å°"}),e.jsxs("p",{className:"text-2xl font-bold text-green-500 mt-1",children:[c.filter(s=>o[s].n8nConnected).length,e.jsxs("span",{className:"text-sm text-gray-400 font-normal ml-1",children:["/ ",c.length]})]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx(j,{className:"w-6 h-6 text-green-500"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"æ€»æˆåŠŸæ•°"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:Object.values((a==null?void 0:a.byPlatform)||{}).reduce((s,t)=>s+t.success,0)})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:e.jsx(x,{className:"w-6 h-6 text-emerald-500"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"æ€»å¤±è´¥æ•°"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:Object.values((a==null?void 0:a.byPlatform)||{}).reduce((s,t)=>s+t.failed,0)})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(C,{className:"w-6 h-6 text-red-500"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(s=>{const t=o[s],r=a==null?void 0:a.byPlatform[s],l=k(s),i=t.n8nConnected;return e.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden transition-all hover:shadow-lg ${i?"":"opacity-60"}`,children:[e.jsx("div",{className:`p-4 ${t.bgColor} border-b border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${t.color}`,children:t.displayName}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:i?e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium",children:[e.jsx(j,{className:"w-3 h-3"}),"å·²è¿æ¥"]}):e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 text-xs font-medium",children:[e.jsx(U,{className:"w-3 h-3"}),"æœªè¿æ¥"]})})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"æˆåŠŸç‡"}),e.jsx("span",{className:`text-lg font-bold ${v(l)}`,children:r?`${l}%`:"-"})]}),e.jsx("div",{className:"h-2 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${l>=80?"bg-green-500":l>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(r==null?void 0:r.total)||0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"æ€»å‘å¸ƒ"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-green-500",children:(r==null?void 0:r.success)||0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"æˆåŠŸ"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-red-500",children:(r==null?void 0:r.failed)||0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"å¤±è´¥"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-100 dark:border-slate-700",children:[t.dashboardUrl&&e.jsxs("a",{href:t.dashboardUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),"æ‰“å¼€å¹³å°"]}),i?e.jsxs("div",{className:"flex items-center gap-1 px-3 py-2 text-sm text-green-600 dark:text-green-400",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"å·¥ä½œæµæ­£å¸¸"})]}):e.jsxs("div",{className:"flex items-center gap-1 px-3 py-2 text-sm text-gray-400",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"å¾…å¯¹æ¥"})]})]})]})]},s)})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"è¿æ¥è¯´æ˜"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"å°çº¢ä¹¦ / å¾®åš / æŠ–éŸ³"}),e.jsx("span",{className:"text-gray-500",children:" - é€šè¿‡ n8n å·¥ä½œæµè‡ªåŠ¨å‘å¸ƒï¼Œæ”¯æŒå›¾ç‰‡å’Œè§†é¢‘"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ZenithJoyAI"}),e.jsx("span",{className:"text-gray-500",children:" - ç›´æ¥å†™å…¥æ•°æ®åº“ï¼Œè‡ªåŠ¨è§¦å‘ç½‘ç«™é‡å»º"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(y,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"X (Twitter)"}),e.jsx("span",{className:"text-gray-500",children:" - å¾…å¯¹æ¥ n8n å·¥ä½œæµï¼Œæš‚æ—¶ä¸æ”¯æŒå‘å¸ƒ"})]})]})]})]})]})}export{L as default};
