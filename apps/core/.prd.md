## PRD - Cecelia 静默层 Phase 2：免疫系统

**需求来源**: Cecelia 自我复活计划（docs/CECELIA-REVIVAL-PRD.md Phase 2）

**功能描述**: 为 Cecelia 静默层添加免疫系统，防止自驱模式下失控：
1. Circuit Breaker — 连续失败的 worker/skill 自动熔断，停止浪费资源
2. 自动 Patrol — tick 每轮检查卡死任务和僵尸进程，自动清理释放 slot
3. EventBus — 统一事件记录，所有关键操作写入 cecelia_events 表，可审计可回放

**涉及文件**:
- 新建 `src/brain/circuit-breaker.js` — 熔断器
- 新建 `src/brain/event-bus.js` — 统一事件记录
- 修改 `src/brain/tick.js` — 集成 patrol 和 circuit breaker
- 新建数据库迁移 — cecelia_events 表 + circuit_breaker_state 表

**成功标准**:
1. 连续失败 3 次的 worker 自动进入 OPEN 状态，tick 不再派任务给它
2. OPEN 30 分钟后进入 HALF_OPEN，试探 1 次，成功恢复、失败继续 OPEN
3. tick 每轮自动检测 in_progress > 30min 的任务，标记 failed 并释放 slot
4. 所有关键事件（dispatch、complete、fail、circuit_open、patrol_cleanup）写入 cecelia_events 表
5. GET /api/brain/events 能查询事件流
6. brain/ 目录下所有测试通过（不退化）

**非目标**:
- 不动业务代码
- 不改前端
- 不实现 Notifier（Phase 3）
- 不实现 Planner V2（Phase 3）
