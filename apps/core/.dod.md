## DoD - Cecelia 静默层 Phase 2：免疫系统

### 验收清单

#### Task 2.1: Circuit Breaker
- [x] 新建 `src/brain/circuit-breaker.js`
- [x] 连续失败 3 次 → worker 进入 OPEN 状态
- [x] OPEN 30 分钟后 → HALF_OPEN（试探 1 次）
- [x] 试探成功 → CLOSED；试探失败 → 继续 OPEN
- [x] tick.js 调度前检查 circuit breaker 状态

#### Task 2.2: 自动 Patrol
- [x] tick 每轮检查 in_progress > 30min 的任务
- [x] 自动标记 failed 并释放 slot
- [x] 记录 patrol 事件到 EventBus

#### Task 2.3: EventBus
- [x] 新建 `src/brain/event-bus.js`
- [x] cecelia_events 表创建（event_type, source, payload）
- [x] tick/executor/decision 关键操作 emit 事件
- [x] GET /api/brain/events 查询接口

#### 不退化检查
- [x] `npx vitest run src/brain/` 全部通过
- [x] TypeScript 类型检查通过

### QA 决策
- 参考 docs/QA-DECISION.md
